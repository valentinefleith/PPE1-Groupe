

<!DOCTYPE html>
<html lang="en">
<head>
<link rel="preconnect" href="https://static.moneysmart.gov.au" crossorigin>
<link rel="preconnect" href="https://files.moneysmart.gov.au" />
<link rel="dns-prefetch" href="https://static.moneysmart.gov.au" />
<link rel="dns-prefetch" href="https://files.moneysmart.gov.au" />
<link rel="preload" as="font" href="https://static.moneysmart.gov.au/nextgen/fonts/regular-regular.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="https://static.moneysmart.gov.au/nextgen/fonts/montserrat-bold.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="https://static.moneysmart.gov.au/nextgen/fonts/montserrat-regular.woff2" type="font/woff2" crossorigin="anonymous">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>Financial counselling - Moneysmart.gov.au</title>
<link rel="canonical" href="https://moneysmart.gov.au/managing-debt/financial-counselling" />

<script>
    window.dataLayer = window.dataLayer || [];
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K663FCG');
    </script>

<meta name="description" content="How financial counsellors can help you with debt and where to find one." />
<meta property="og:title" content="Financial counselling - Moneysmart.gov.au" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://moneysmart.gov.au/managing-debt/financial-counselling" />
<meta property="og:description" content="How financial counsellors can help you with debt and where to find one." />
<meta property="og:image" content="https://files.moneysmart.gov.au/media/aamdazjf/managing-debts.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@moneysmartteam" />
<meta name="twitter:title" content="Financial counselling - Moneysmart.gov.au" />
<meta name="twitter:description" content="How financial counsellors can help you with debt and where to find one." />
<meta name="twitter:image" content="https://files.moneysmart.gov.au/media/aamdazjf/managing-debts.jpg" />
<link rel="apple-touch-icon" sizes="180x180" href="https://static.moneysmart.gov.au/nextgen/img/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://static.moneysmart.gov.au/nextgen/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://static.moneysmart.gov.au/nextgen/img/favicon/favicon-16x16.png">
<meta name="theme-color" content="#0047F5">
<link rel="manifest" href="https://static.moneysmart.gov.au/nextgen/img/favicon/manifest.json">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="application-name" content="Moneysmart">
<meta name="apple-mobile-web-app-title" content="Moneysmart">
<meta name="msapplication-starturl" content="/">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="mask-icon" href="https://static.moneysmart.gov.au/nextgen/img/favicon/safari-pinned-tab.svg" color="#0047F5">
<link rel="shortcut icon" href="https://static.moneysmart.gov.au/nextgen/img/favicon/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Moneysmart">
<meta name="application-name" content="Moneysmart">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-config" content="https://static.moneysmart.gov.au/nextgen/img/favicon/browserconfig.xml">
<meta name="msapplication-TileImage" content="https://static.moneysmart.gov.au/nextgen/img/favicon/ms-icon-144x144.png">
<link href="https://static.moneysmart.gov.au/nextgen/css/main-20231024.css" rel="stylesheet" media="all">
<script src="https://static.moneysmart.gov.au/nextgen/js/moneysmart-20231107.js"></script>
<style>
         
    </style>
</head>
<body class="pagetype-content loanscreditanddebt">

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K663FCG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<a href="#mainContent" class="offScreen">Skip to main content</a>
<header>
<div class="scrolltracker"><div class="progress" style="width: 0%;"></div></div>
<div id="topButtons">
<button type="button" id="toggleMenu" class="inactive">&#9776;</button>
<button type="button" id="menuBack" class="hidden">back</button>
<a id="headerLogo" href="/">home</a>
<span id="headerTitle" class="hidden"></span>
<span id="navActiveSectionTitle" class="hidden"></span>
<button type="button" id="toggleSearch" class="inactive">search</button>
</div>
<nav id="mainNav" class="hidden customScrollBar">
<div class="vertJustify">
<ul itemscope itemtype="http://www.schema.org/SiteNavigationElement" id="mainNavUl" class="pos1">
<li itemprop="name" class="mainNavLevel1"><a href="#banking-and-budgeting" itemprop="url" class="mainNavLevel1Link">Banking and budgeting</a>

<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/banking" itemprop="url" class="mainNavLevel2Link hub">Banking</a>
<ul>
<li itemprop="name"><a href="/banking/savings-accounts" itemprop="url" class="mainNavLevel3Link ">Savings accounts</a></li>
<li itemprop="name"><a href="/banking/transaction-accounts-and-debit-cards" itemprop="url" class="mainNavLevel3Link ">Transaction accounts and debit cards</a></li>
<li itemprop="name"><a href="/banking/joint-accounts" itemprop="url" class="mainNavLevel3Link ">Joint accounts</a></li>
<li itemprop="name"><a href="/banking/direct-debits" itemprop="url" class="mainNavLevel3Link ">Direct debits</a></li>
<li itemprop="name"><a href="/banking/unauthorised-and-mistaken-transactions" itemprop="url" class="mainNavLevel3Link ">Unauthorised and mistaken transactions</a></li>
<li itemprop="name"><a href="/banking/sending-money-overseas" itemprop="url" class="mainNavLevel3Link ">Sending money overseas</a></li>
</ul>
</li>
<li itemprop="name"><a href="/budgeting" itemprop="url" class="mainNavLevel2Link hub">Budgeting</a>
<ul>
<li itemprop="name"><a href="/budgeting/how-to-do-a-budget" itemprop="url" class="mainNavLevel3Link ">How to do a budget</a></li>
<li itemprop="name"><a href="/budgeting/track-your-spending" itemprop="url" class="mainNavLevel3Link ">Track your spending</a></li>
<li itemprop="name"><a href="/budgeting/manage-the-cost-of-living" itemprop="url" class="mainNavLevel3Link ">Manage the cost of living</a></li>
<li itemprop="name"><a href="/budgeting/managing-on-a-low-income" itemprop="url" class="mainNavLevel3Link ">Managing on a low income</a></li>
<li itemprop="name"><a href="/budgeting/managing-on-a-casual-income" itemprop="url" class="mainNavLevel3Link ">Managing on a casual income</a></li>
<li itemprop="name"><a href="/budgeting/budget-planner" itemprop="url" class="mainNavLevel3Link calculator">Budget planner</a></li>
<li itemprop="name"><a href="/budgeting/compound-interest-calculator" itemprop="url" class="mainNavLevel3Link calculator">Compound interest calculator</a></li>
<li itemprop="name"><a href="/budgeting/simple-money-manager" itemprop="url" class="mainNavLevel3Link calculator">Simple money manager</a></li>
<li itemprop="name"><a href="/budgeting/avoiding-sales-pressure" itemprop="url" class="mainNavLevel3Link ">Avoiding sales pressure</a></li>
</ul>
</li>
<li itemprop="name"><a href="/saving" itemprop="url" class="mainNavLevel2Link hub">Saving</a>
<ul>
<li itemprop="name"><a href="/saving/savings-goals-calculator" itemprop="url" class="mainNavLevel3Link calculator">Savings goals calculator</a></li>
<li itemprop="name"><a href="/saving/compound-interest" itemprop="url" class="mainNavLevel3Link ">Compound interest</a></li>
<li itemprop="name"><a href="/saving/save-for-an-emergency-fund" itemprop="url" class="mainNavLevel3Link ">Save for an emergency fund</a></li>
<li itemprop="name"><a href="/saving/simple-ways-to-save-money" itemprop="url" class="mainNavLevel3Link ">Simple ways to save money</a></li>
<li itemprop="name"><a href="/saving/term-deposits" itemprop="url" class="mainNavLevel3Link ">Term deposits</a></li>
<li itemprop="name"><a href="/saving/save-for-a-house-deposit" itemprop="url" class="mainNavLevel3Link ">Save for a house deposit</a></li>
</ul>
</li>
<li itemprop="name"><a href="/work-and-tax" itemprop="url" class="mainNavLevel2Link ">Work and tax</a>
<ul>
<li itemprop="name"><a href="/work-and-tax/gst-calculator" itemprop="url" class="mainNavLevel3Link calculator">GST calculator</a></li>
<li itemprop="name"><a href="/work-and-tax/income-tax-calculator" itemprop="url" class="mainNavLevel3Link calculator">Income tax calculator</a></li>
<li itemprop="name"><a href="/work-and-tax/income-tax" itemprop="url" class="mainNavLevel3Link content">Income tax</a></li>
<li itemprop="name"><a href="/work-and-tax/lodging-a-tax-return" itemprop="url" class="mainNavLevel3Link ">Lodging a tax return</a></li>
<li itemprop="name"><a href="/work-and-tax/salary-packaging" itemprop="url" class="mainNavLevel3Link ">Salary packaging</a></li>
<li itemprop="name"><a href="/work-and-tax/returning-to-work-after-having-a-baby" itemprop="url" class="mainNavLevel3Link Content">Returning to work after having a baby</a></li>
<li itemprop="name"><a href="/work-and-tax/losing-your-job" itemprop="url" class="mainNavLevel3Link ">Losing your job</a></li>
<li itemprop="name"><a href="/work-and-tax/self-employment" itemprop="url" class="mainNavLevel3Link ">Self-employment</a></li>
<li itemprop="name"><a href="/work-and-tax/choosing-an-accountant" itemprop="url" class="mainNavLevel3Link ">Choosing an accountant</a></li>
</ul>
</li>
<li itemprop="name"><a href="/family-and-relationships" itemprop="url" class="mainNavLevel2Link ">Family and relationships</a>
<ul>
<li itemprop="name"><a href="/family-and-relationships/relationships-and-money" itemprop="url" class="mainNavLevel3Link ">Relationships and money</a></li>
<li itemprop="name"><a href="/family-and-relationships/getting-married" itemprop="url" class="mainNavLevel3Link ">Getting married</a></li>
<li itemprop="name"><a href="/family-and-relationships/having-a-baby" itemprop="url" class="mainNavLevel3Link ">Having a baby</a></li>
<li itemprop="name"><a href="/family-and-relationships/teaching-kids-about-money" itemprop="url" class="mainNavLevel3Link ">Teaching kids about money</a></li>
<li itemprop="name"><a href="/family-and-relationships/reducing-back-to-school-costs" itemprop="url" class="mainNavLevel3Link ">Reducing back-to-school costs</a></li>
<li itemprop="name"><a href="/family-and-relationships/cheap-school-holidays" itemprop="url" class="mainNavLevel3Link ">Cheap school holidays</a></li>
<li itemprop="name"><a href="/family-and-relationships/getting-divorced-or-separating" itemprop="url" class="mainNavLevel3Link ">Getting divorced or separating</a></li>
<li itemprop="name"><a href="/family-and-relationships/divorce-and-separation-financial-checklist" itemprop="url" class="mainNavLevel3Link ">Divorce and separation financial checklist</a></li>
<li itemprop="name"><a href="/family-and-relationships/dealing-with-illness" itemprop="url" class="mainNavLevel3Link ">Dealing with illness</a></li>
<li itemprop="name"><a href="/family-and-relationships/losing-your-partner" itemprop="url" class="mainNavLevel3Link ">Losing your partner</a></li>
<li itemprop="name"><a href="/family-and-relationships/getting-a-pet" itemprop="url" class="mainNavLevel3Link ">Getting a pet</a></li>
</ul>
</li>
</ul>
</li>
<li itemprop="name" class="mainNavLevel1"><a href="#loans-credit-and-debt" itemprop="url" class="mainNavLevel1Link">Loans, credit and debt</a>

<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/loans" itemprop="url" class="mainNavLevel2Link hub">Loans</a>
<ul>
<li itemprop="name"><a href="/loans/going-guarantor-on-a-loan" itemprop="url" class="mainNavLevel3Link ">Going guarantor on a loan</a></li>
<li itemprop="name"><a href="/loans/car-loans" itemprop="url" class="mainNavLevel3Link ">Car loans</a></li>
<li itemprop="name"><a href="/loans/loan-rejection" itemprop="url" class="mainNavLevel3Link ">Loan rejection</a></li>
<li itemprop="name"><a href="/loans/payday-loans" itemprop="url" class="mainNavLevel3Link ">Payday loans</a></li>
<li itemprop="name"><a href="/loans/no-interest-loans" itemprop="url" class="mainNavLevel3Link ">No interest loans</a></li>
<li itemprop="name"><a href="/loans/personal-loans" itemprop="url" class="mainNavLevel3Link ">Personal loans</a></li>
<li itemprop="name"><a href="/loans/personal-loan-calculator" itemprop="url" class="mainNavLevel3Link calculator">Personal loan calculator</a></li>
<li itemprop="name"><a href="/loans/payday-loan-calculator" itemprop="url" class="mainNavLevel3Link calculator">Payday loan calculator</a></li>
<li itemprop="name"><a href="/loans/moneysmart-cars-app" itemprop="url" class="mainNavLevel3Link ">Moneysmart cars app</a></li>
</ul>
</li>
<li itemprop="name"><a href="/other-ways-to-borrow" itemprop="url" class="mainNavLevel2Link hub">Other ways to borrow</a>
<ul>
<li itemprop="name"><a href="/other-ways-to-borrow/buy-now-pay-later-services" itemprop="url" class="mainNavLevel3Link ">Buy now pay later services</a></li>
<li itemprop="name"><a href="/other-ways-to-borrow/pay-advance-services" itemprop="url" class="mainNavLevel3Link ">Pay advance services</a></li>
<li itemprop="name"><a href="/other-ways-to-borrow/interest-free-deals" itemprop="url" class="mainNavLevel3Link ">Interest-free deals</a></li>
<li itemprop="name"><a href="/other-ways-to-borrow/interest-free-deal-calculator" itemprop="url" class="mainNavLevel3Link calculator">Interest-free deal calculator</a></li>
<li itemprop="name"><a href="/other-ways-to-borrow/consumer-leases" itemprop="url" class="mainNavLevel3Link ">Consumer leases</a></li>
<li itemprop="name"><a href="/other-ways-to-borrow/rent-vs-buy-calculator" itemprop="url" class="mainNavLevel3Link calculator">Rent vs buy calculator</a></li>
</ul>
</li>
<li itemprop="name"><a href="/credit-cards" itemprop="url" class="mainNavLevel2Link hub">Credit cards</a>
<ul>
<li itemprop="name"><a href="/credit-cards/choosing-a-credit-card" itemprop="url" class="mainNavLevel3Link ">Choosing a credit card</a></li>
<li itemprop="name"><a href="/credit-cards/pay-off-your-credit-card" itemprop="url" class="mainNavLevel3Link ">Pay off your credit card</a></li>
<li itemprop="name"><a href="/credit-cards/credit-card-calculator" itemprop="url" class="mainNavLevel3Link calculator">Credit card calculator</a></li>
<li itemprop="name"><a href="/credit-cards/credit-card-balance-transfers" itemprop="url" class="mainNavLevel3Link ">Credit card balance transfers</a></li>
<li itemprop="name"><a href="/credit-cards/cancel-a-credit-card" itemprop="url" class="mainNavLevel3Link ">Cancel a credit card</a></li>
</ul>
</li>
<li itemprop="name"><a href="/home-loans" itemprop="url" class="mainNavLevel2Link hub">Home loans</a>
<ul>
<li itemprop="name"><a href="/home-loans/buying-a-house" itemprop="url" class="mainNavLevel3Link ">Buying a house</a></li>
<li itemprop="name"><a href="/home-loans/choosing-a-home-loan" itemprop="url" class="mainNavLevel3Link ">Choosing a home loan</a></li>
<li itemprop="name"><a href="/home-loans/mortgage-calculator" itemprop="url" class="mainNavLevel3Link calculator">Mortgage calculator</a></li>
<li itemprop="name"><a href="/home-loans/switching-home-loans" itemprop="url" class="mainNavLevel3Link ">Switching home loans</a></li>
<li itemprop="name"><a href="/home-loans/mortgage-switching-calculator" itemprop="url" class="mainNavLevel3Link calculator">Mortgage switching calculator</a></li>
<li itemprop="name"><a href="/home-loans/using-a-mortgage-broker" itemprop="url" class="mainNavLevel3Link ">Using a mortgage broker</a></li>
<li itemprop="name"><a href="/home-loans/pay-off-your-mortgage-faster" itemprop="url" class="mainNavLevel3Link ">Pay off your mortgage faster</a></li>
<li itemprop="name"><a href="/home-loans/problems-paying-your-mortgage" itemprop="url" class="mainNavLevel3Link ">Problems paying your mortgage</a></li>
<li itemprop="name"><a href="/home-loans/interest-only-home-loans" itemprop="url" class="mainNavLevel3Link ">Interest-only home loans</a></li>
<li itemprop="name"><a href="/home-loans/interest-only-mortgage-calculator" itemprop="url" class="mainNavLevel3Link calculator">Interest-only mortgage calculator</a></li>
</ul>
</li>
<li itemprop="name"><a href="/managing-debt" itemprop="url" class="mainNavLevel2Link hub">Managing debt</a>
<ul>
<li itemprop="name"><a href="/managing-debt/get-debt-under-control" itemprop="url" class="mainNavLevel3Link ">Get debt under control</a></li>
<li itemprop="name"><a href="/managing-debt/urgent-help-with-money" itemprop="url" class="mainNavLevel3Link ">Urgent help with money</a></li>
<li itemprop="name"><a href="/managing-debt/financial-counselling" itemprop="url" class="mainNavLevel3Link ">Financial counselling</a></li>
<li itemprop="name"><a href="/managing-debt/financial-hardship" itemprop="url" class="mainNavLevel3Link ">Financial hardship</a></li>
<li itemprop="name"><a href="/managing-debt/problems-paying-your-bills-and-fines" itemprop="url" class="mainNavLevel3Link ">Problems paying your bills and fines</a></li>
<li itemprop="name"><a href="/managing-debt/credit-scores-and-credit-reports" itemprop="url" class="mainNavLevel3Link ">Credit scores and credit reports</a></li>
<li itemprop="name"><a href="/managing-debt/credit-repair" itemprop="url" class="mainNavLevel3Link ">Credit repair</a></li>
<li itemprop="name"><a href="/managing-debt/debt-consolidation-and-refinancing" itemprop="url" class="mainNavLevel3Link ">Debt consolidation and refinancing</a></li>
<li itemprop="name"><a href="/managing-debt/dealing-with-debt-collectors" itemprop="url" class="mainNavLevel3Link ">Dealing with debt collectors</a></li>
<li itemprop="name"><a href="/managing-debt/repossessed-car-or-goods" itemprop="url" class="mainNavLevel3Link ">Repossessed car or goods</a></li>
<li itemprop="name"><a href="/managing-debt/bankruptcy-and-debt-agreements" itemprop="url" class="mainNavLevel3Link ">Bankruptcy and debt agreements</a></li>
<li itemprop="name"><a href="/managing-debt/free-legal-advice" itemprop="url" class="mainNavLevel3Link ">Free legal advice</a></li>
<li itemprop="name"><a href="/managing-debt/net-worth-calculator" itemprop="url" class="mainNavLevel3Link calculator">Net worth calculator</a></li>
</ul>
</li>
</ul>
</li>
<li itemprop="name" class="mainNavLevel1"><a href="#investing-and-planning" itemprop="url" class="mainNavLevel1Link">Investing and planning</a>

<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/how-to-invest" itemprop="url" class="mainNavLevel2Link hub">How to invest</a>
<ul>
<li itemprop="name"><a href="/how-to-invest/investor-toolkit" itemprop="url" class="mainNavLevel3Link ">Investor toolkit</a></li>
<li itemprop="name"><a href="/how-to-invest/develop-an-investing-plan" itemprop="url" class="mainNavLevel3Link ">Develop an investing plan</a></li>
<li itemprop="name"><a href="/how-to-invest/choose-your-investments" itemprop="url" class="mainNavLevel3Link ">Choose your investments</a></li>
<li itemprop="name"><a href="/how-to-invest/diversification" itemprop="url" class="mainNavLevel3Link ">Diversification</a></li>
<li itemprop="name"><a href="/how-to-invest/investing-and-tax" itemprop="url" class="mainNavLevel3Link ">Investing and tax</a></li>
<li itemprop="name"><a href="/how-to-invest/borrowing-to-invest" itemprop="url" class="mainNavLevel3Link ">Borrowing to invest</a></li>
<li itemprop="name"><a href="/how-to-invest/keep-track-of-your-investments" itemprop="url" class="mainNavLevel3Link ">Keep track of your investments</a></li>
<li itemprop="name"><a href="/how-to-invest/environmental-social-governance-esg-investing" itemprop="url" class="mainNavLevel3Link ">Environmental Social Governance (ESG) investing</a></li>
</ul>
</li>
<li itemprop="name"><a href="/financial-advice" itemprop="url" class="mainNavLevel2Link hub">Financial advice</a>
<ul>
<li itemprop="name"><a href="/financial-advice/financial-advisers-register" itemprop="url" class="mainNavLevel3Link calculator">Financial advisers register</a></li>
<li itemprop="name"><a href="/financial-advice/choosing-a-financial-adviser" itemprop="url" class="mainNavLevel3Link ">Choosing a financial adviser</a></li>
<li itemprop="name"><a href="/financial-advice/working-with-a-financial-adviser" itemprop="url" class="mainNavLevel3Link ">Working with a financial adviser</a></li>
<li itemprop="name"><a href="/financial-advice/financial-advice-costs" itemprop="url" class="mainNavLevel3Link ">Financial advice costs</a></li>
<li itemprop="name"><a href="/financial-advice/problems-with-a-financial-adviser" itemprop="url" class="mainNavLevel3Link ">Problems with a financial adviser</a></li>
</ul>
</li>
<li itemprop="name"><a href="/shares" itemprop="url" class="mainNavLevel2Link hub">Shares</a>
<ul>
<li itemprop="name"><a href="/shares/choosing-shares-to-buy" itemprop="url" class="mainNavLevel3Link ">Choosing shares to buy</a></li>
<li itemprop="name"><a href="/shares/how-to-buy-and-sell-shares" itemprop="url" class="mainNavLevel3Link ">How to buy and sell shares</a></li>
<li itemprop="name"><a href="/shares/keeping-track-of-your-shares" itemprop="url" class="mainNavLevel3Link ">Keeping track of your shares</a></li>
<li itemprop="name"><a href="/shares/employee-share-schemes" itemprop="url" class="mainNavLevel3Link ">Employee share schemes</a></li>
</ul>
</li>
<li itemprop="name"><a href="/managed-funds-and-etfs" itemprop="url" class="mainNavLevel2Link hub">Managed funds and ETFs</a>
<ul>
<li itemprop="name"><a href="/managed-funds-and-etfs/managed-funds-fee-calculator" itemprop="url" class="mainNavLevel3Link calculator">Managed funds fee calculator</a></li>
<li itemprop="name"><a href="/managed-funds-and-etfs/choosing-a-managed-fund" itemprop="url" class="mainNavLevel3Link ">Choosing a managed fund</a></li>
<li itemprop="name"><a href="/managed-funds-and-etfs/exchange-traded-funds-etfs" itemprop="url" class="mainNavLevel3Link ">Exchange traded funds (ETFs)</a></li>
<li itemprop="name"><a href="/managed-funds-and-etfs/hedge-funds" itemprop="url" class="mainNavLevel3Link ">Hedge funds</a></li>
<li itemprop="name"><a href="/managed-funds-and-etfs/listed-investment-companies-lics" itemprop="url" class="mainNavLevel3Link ">Listed investment companies (LICs)</a></li>
<li itemprop="name"><a href="/managed-funds-and-etfs/peer-to-peer-lending" itemprop="url" class="mainNavLevel3Link ">Peer to peer lending</a></li>
</ul>
</li>
<li itemprop="name"><a href="/property-investment" itemprop="url" class="mainNavLevel2Link ">Property investment</a>
<ul>
<li itemprop="name"><a href="/property-investment/property-schemes" itemprop="url" class="mainNavLevel3Link ">Property schemes</a></li>
<li itemprop="name"><a href="/property-investment/timeshares" itemprop="url" class="mainNavLevel3Link ">Timeshares</a></li>
<li itemprop="name"><a href="/property-investment/smsfs-and-property" itemprop="url" class="mainNavLevel3Link ">SMSFs and property</a></li>
</ul>
</li>
<li itemprop="name"><a href="/investments-paying-interest" itemprop="url" class="mainNavLevel2Link hub">Investments paying interest</a>
<ul>
<li itemprop="name"><a href="/investments-paying-interest/bonds" itemprop="url" class="mainNavLevel3Link ">Bonds</a></li>
<li itemprop="name"><a href="/investments-paying-interest/debentures-secured-and-unsecured-notes" itemprop="url" class="mainNavLevel3Link ">Debentures, secured and unsecured notes</a></li>
<li itemprop="name"><a href="/investments-paying-interest/hybrid-securities-and-notes" itemprop="url" class="mainNavLevel3Link ">Hybrid securities and notes</a></li>
</ul>
</li>
<li itemprop="name"><a href="/investment-warnings" itemprop="url" class="mainNavLevel2Link hub">Investment warnings</a>
<ul>
<li itemprop="name"><a href="/investment-warnings/cryptocurrencies" itemprop="url" class="mainNavLevel3Link ">Cryptocurrencies</a></li>
<li itemprop="name"><a href="/investment-warnings/contracts-for-difference-cfds" itemprop="url" class="mainNavLevel3Link ">Contracts for difference (CFDs)</a></li>
<li itemprop="name"><a href="/investment-warnings/investment-seminars" itemprop="url" class="mainNavLevel3Link ">Investment seminars</a></li>
<li itemprop="name"><a href="/investment-warnings/binary-options" itemprop="url" class="mainNavLevel3Link ">Binary options</a></li>
<li itemprop="name"><a href="/investment-warnings/land-banking" itemprop="url" class="mainNavLevel3Link ">Land banking</a></li>
<li itemprop="name"><a href="/investment-warnings/company-director-fraud" itemprop="url" class="mainNavLevel3Link ">Company director fraud</a></li>
<li itemprop="name"><a href="/investment-warnings/forex-trading" itemprop="url" class="mainNavLevel3Link ">Forex trading</a></li>
</ul>
</li>
</ul>
</li>
<li itemprop="name" class="mainNavLevel1"><a href="#super-and-retirement" itemprop="url" class="mainNavLevel1Link">Super and retirement</a>

<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/how-super-works" itemprop="url" class="mainNavLevel2Link hub">How super works</a>
<ul>
<li itemprop="name"><a href="/how-super-works/choosing-a-super-fund" itemprop="url" class="mainNavLevel3Link ">Choosing a super fund</a></li>
<li itemprop="name"><a href="/how-super-works/types-of-super-funds" itemprop="url" class="mainNavLevel3Link ">Types of super funds</a></li>
<li itemprop="name"><a href="/how-super-works/self-managed-super-fund-smsf" itemprop="url" class="mainNavLevel3Link ">Self-managed super fund (SMSF)</a></li>
<li itemprop="name"><a href="/how-super-works/getting-your-super" itemprop="url" class="mainNavLevel3Link ">Getting your super</a></li>
<li itemprop="name"><a href="/how-super-works/find-lost-super" itemprop="url" class="mainNavLevel3Link ">Find lost super</a></li>
<li itemprop="name"><a href="/how-super-works/consolidating-super-funds" itemprop="url" class="mainNavLevel3Link ">Consolidating super funds</a></li>
<li itemprop="name"><a href="/how-super-works/tax-and-super" itemprop="url" class="mainNavLevel3Link ">Tax and super</a></li>
<li itemprop="name"><a href="/how-super-works/superannuation-calculator" itemprop="url" class="mainNavLevel3Link calculator">Superannuation calculator</a></li>
</ul>
</li>
<li itemprop="name"><a href="/grow-your-super" itemprop="url" class="mainNavLevel2Link hub">Grow your super</a>
<ul>
<li itemprop="name"><a href="/grow-your-super/employer-contributions-calculator" itemprop="url" class="mainNavLevel3Link calculator">Employer contributions calculator</a></li>
<li itemprop="name"><a href="/grow-your-super/how-much-super-you-need" itemprop="url" class="mainNavLevel3Link ">How much super you need</a></li>
<li itemprop="name"><a href="/grow-your-super/super-contributions" itemprop="url" class="mainNavLevel3Link ">Super contributions</a></li>
<li itemprop="name"><a href="/grow-your-super/super-for-self-employed-people" itemprop="url" class="mainNavLevel3Link ">Super for self-employed people</a></li>
<li itemprop="name"><a href="/grow-your-super/super-investment-options" itemprop="url" class="mainNavLevel3Link ">Super investment options</a></li>
<li itemprop="name"><a href="/grow-your-super/super-contributions-optimiser" itemprop="url" class="mainNavLevel3Link calculator">Super contributions optimiser</a></li>
<li itemprop="name"><a href="/grow-your-super/how-to-check-your-super" itemprop="url" class="mainNavLevel3Link ">How to check your super</a></li>
</ul>
</li>
<li itemprop="name"><a href="/retirement-income" itemprop="url" class="mainNavLevel2Link hub">Retirement income</a>
<ul>
<li itemprop="name"><a href="/retirement-income/prepare-to-retire" itemprop="url" class="mainNavLevel3Link ">Prepare to retire</a></li>
<li itemprop="name"><a href="/retirement-income/age-pension-and-government-benefits" itemprop="url" class="mainNavLevel3Link ">Age Pension and government benefits</a></li>
<li itemprop="name"><a href="/retirement-income/super-and-pension-age-calculator" itemprop="url" class="mainNavLevel3Link calculator">Super and pension age calculator</a></li>
<li itemprop="name"><a href="/retirement-income/transition-to-retirement" itemprop="url" class="mainNavLevel3Link ">Transition to retirement</a></li>
<li itemprop="name"><a href="/retirement-income/retirement-planner" itemprop="url" class="mainNavLevel3Link calculator">Retirement planner</a></li>
<li itemprop="name"><a href="/retirement-income/account-based-pensions" itemprop="url" class="mainNavLevel3Link ">Account-based pensions</a></li>
<li itemprop="name"><a href="/retirement-income/account-based-pension-calculator" itemprop="url" class="mainNavLevel3Link calculator">Account-based pension calculator</a></li>
<li itemprop="name"><a href="/retirement-income/annuities" itemprop="url" class="mainNavLevel3Link ">Annuities</a></li>
<li itemprop="name"><a href="/retirement-income/super-lump-sum" itemprop="url" class="mainNavLevel3Link ">Super lump sum</a></li>
<li itemprop="name"><a href="/retirement-income/retirement-income-and-tax" itemprop="url" class="mainNavLevel3Link ">Retirement income and tax</a></li>
<li itemprop="name"><a href="/retirement-income/downsizing-in-retirement" itemprop="url" class="mainNavLevel3Link ">Downsizing in retirement</a></li>
<li itemprop="name"><a href="/retirement-income/reverse-mortgage-and-home-equity-release" itemprop="url" class="mainNavLevel3Link ">Reverse mortgage and home equity release</a></li>
<li itemprop="name"><a href="/retirement-income/reverse-mortgage-calculator" itemprop="url" class="mainNavLevel3Link calculator">Reverse mortgage calculator</a></li>
</ul>
</li>
<li itemprop="name"><a href="/living-in-retirement" itemprop="url" class="mainNavLevel2Link hub">Living in retirement</a>
<ul>
<li itemprop="name"><a href="/living-in-retirement/your-money-in-retirement" itemprop="url" class="mainNavLevel3Link content">Your money in retirement</a></li>
<li itemprop="name"><a href="/living-in-retirement/aged-care" itemprop="url" class="mainNavLevel3Link ">Aged care</a></li>
<li itemprop="name"><a href="/living-in-retirement/your-home-in-retirement" itemprop="url" class="mainNavLevel3Link ">Your home in retirement</a></li>
<li itemprop="name"><a href="/living-in-retirement/wills-and-powers-of-attorney" itemprop="url" class="mainNavLevel3Link ">Wills and powers of attorney</a></li>
<li itemprop="name"><a href="/living-in-retirement/paying-for-your-funeral" itemprop="url" class="mainNavLevel3Link ">Paying for your funeral</a></li>
<li itemprop="name"><a href="/living-in-retirement/supporting-older-australians" itemprop="url" class="mainNavLevel3Link ">Supporting older Australians</a></li>
<li itemprop="name"><a href="/living-in-retirement/financial-abuse" itemprop="url" class="mainNavLevel3Link ">Financial abuse</a></li>
<li itemprop="name"><a href="/living-in-retirement/memory-loss-dementia-and-your-money" itemprop="url" class="mainNavLevel3Link ">Memory loss, dementia and your money</a></li>
<li itemprop="name"><a href="/living-in-retirement/elder-care-and-seniors-support" itemprop="url" class="mainNavLevel3Link ">Elder care and seniors support</a></li>
</ul>
</li>
</ul>
</li>
<li itemprop="name" class="mainNavLevel1"><a href="#insurance" itemprop="url" class="mainNavLevel1Link">Insurance</a>

<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/how-life-insurance-works" itemprop="url" class="mainNavLevel2Link hub">How life insurance works</a>
<ul>
<li itemprop="name"><a href="/how-life-insurance-works/life-insurance-calculator" itemprop="url" class="mainNavLevel3Link calculator">Life insurance calculator</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/income-protection-insurance" itemprop="url" class="mainNavLevel3Link ">Income protection insurance</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/life-cover" itemprop="url" class="mainNavLevel3Link ">Life cover</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/total-and-permanent-disability-tpd-insurance" itemprop="url" class="mainNavLevel3Link ">Total and permanent disability (TPD) insurance</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/insurance-through-super" itemprop="url" class="mainNavLevel3Link ">Insurance through super</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/life-insurance-claims-comparison-tool" itemprop="url" class="mainNavLevel3Link calculator">Life insurance claims comparison tool</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/trauma-insurance" itemprop="url" class="mainNavLevel3Link ">Trauma insurance</a></li>
<li itemprop="name"><a href="/how-life-insurance-works/making-a-life-insurance-claim" itemprop="url" class="mainNavLevel3Link ">Making a life insurance claim</a></li>
</ul>
</li>
<li itemprop="name"><a href="/car-insurance" itemprop="url" class="mainNavLevel2Link hub">Car insurance</a>
<ul>
<li itemprop="name"><a href="/car-insurance/choosing-car-insurance" itemprop="url" class="mainNavLevel3Link ">Choosing car insurance</a></li>
<li itemprop="name"><a href="/car-insurance/claiming-on-your-car-insurance" itemprop="url" class="mainNavLevel3Link ">Claiming on your car insurance</a></li>
<li itemprop="name"><a href="/car-insurance/no-claim-bonus-on-car-insurance" itemprop="url" class="mainNavLevel3Link ">No claim bonus on car insurance</a></li>
<li itemprop="name"><a href="/car-insurance/add-on-car-insurance" itemprop="url" class="mainNavLevel3Link ">Add-on car insurance</a></li>
</ul>
</li>
<li itemprop="name"><a href="/home-insurance" itemprop="url" class="mainNavLevel2Link hub">Home insurance</a>
<ul>
<li itemprop="name"><a href="/home-insurance/choosing-home-insurance" itemprop="url" class="mainNavLevel3Link ">Choosing home insurance</a></li>
<li itemprop="name"><a href="/home-insurance/contents-insurance" itemprop="url" class="mainNavLevel3Link ">Contents insurance</a></li>
<li itemprop="name"><a href="/home-insurance/storm-flood-and-fire-insurance" itemprop="url" class="mainNavLevel3Link ">Storm, flood and fire insurance</a></li>
<li itemprop="name"><a href="/home-insurance/how-to-make-a-home-insurance-claim" itemprop="url" class="mainNavLevel3Link ">How to make a home insurance claim</a></li>
</ul>
</li>
<li itemprop="name"><a href="/add-on-insurance" itemprop="url" class="mainNavLevel2Link ">Add-on insurance</a>
<ul>
<li itemprop="name"><a href="/add-on-insurance/mobile-phone-tablet-and-laptop-insurance" itemprop="url" class="mainNavLevel3Link ">Mobile phone, tablet and laptop insurance</a></li>
<li itemprop="name"><a href="/add-on-insurance/consumer-credit-insurance" itemprop="url" class="mainNavLevel3Link ">Consumer credit insurance</a></li>
<li itemprop="name"><a href="/add-on-insurance/pet-insurance" itemprop="url" class="mainNavLevel3Link ">Pet insurance</a></li>
</ul>
</li>
<li itemprop="name"><a href="/other-types-of-insurance" itemprop="url" class="mainNavLevel2Link ">Other types of insurance</a>
<ul>
<li itemprop="name"><a href="/other-types-of-insurance/health-insurance" itemprop="url" class="mainNavLevel3Link ">Health insurance</a></li>
<li itemprop="name"><a href="/other-types-of-insurance/funeral-insurance" itemprop="url" class="mainNavLevel3Link ">Funeral insurance</a></li>
<li itemprop="name"><a href="/other-types-of-insurance/travel-insurance" itemprop="url" class="mainNavLevel3Link ">Travel insurance</a></li>
</ul>
</li>
<li itemprop="name"><a href="/dealing-with-natural-disasters" itemprop="url" class="mainNavLevel2Link ">Dealing with natural disasters</a>
<ul>
<li itemprop="name"><a href="/dealing-with-natural-disasters/preparing-for-a-natural-disaster" itemprop="url" class="mainNavLevel3Link ">Preparing for a natural disaster</a></li>
<li itemprop="name"><a href="/dealing-with-natural-disasters/what-to-do-after-a-natural-disaster" itemprop="url" class="mainNavLevel3Link content">What to do after a natural disaster</a></li>
<li itemprop="name"><a href="/dealing-with-natural-disasters/recovering-from-a-natural-disaster" itemprop="url" class="mainNavLevel3Link ">Recovering from a natural disaster</a></li>
</ul>
</li>
</ul>
</li>
<li itemprop="name" class="mainNavLevel1"><a href="#scams" itemprop="url" class="mainNavLevel1Link">Scams and online safety</a>
<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/online-safety" itemprop="url" class="mainNavLevel2Link ">Online safety</a>
<ul>
<li itemprop="name"><a href="/online-safety/protect-yourself-from-scams" itemprop="url" class="mainNavLevel3Link ">Protect yourself from scams</a></li>
<li itemprop="name"><a href="/online-safety/online-shopping" itemprop="url" class="mainNavLevel3Link ">Online shopping</a></li>
<li itemprop="name"><a href="/online-safety/identity-theft" itemprop="url" class="mainNavLevel3Link ">Identity theft</a></li>
<li itemprop="name"><a href="/online-safety/using-comparison-websites" itemprop="url" class="mainNavLevel3Link ">Using comparison websites</a></li>
</ul>
</li>
<li itemprop="name"><a href="/financial-scams" itemprop="url" class="mainNavLevel2Link ">Financial scams</a>
<ul>
<li itemprop="name"><a href="/financial-scams/banking-and-credit-scams" itemprop="url" class="mainNavLevel3Link ">Banking and credit scams</a></li>
<li itemprop="name"><a href="/financial-scams/crypto-scams" itemprop="url" class="mainNavLevel3Link ">Crypto scams</a></li>
<li itemprop="name"><a href="/financial-scams/imposter-bond-investment-scams" itemprop="url" class="mainNavLevel3Link ">Imposter bond investment scams</a></li>
<li itemprop="name"><a href="/financial-scams/investment-scams" itemprop="url" class="mainNavLevel3Link ">Investment scams</a></li>
<li itemprop="name"><a href="/financial-scams/ponzi-schemes" itemprop="url" class="mainNavLevel3Link ">Ponzi schemes</a></li>
<li itemprop="name"><a href="/financial-scams/superannuation-scams" itemprop="url" class="mainNavLevel3Link ">Superannuation scams</a></li>
</ul>
</li>
<li itemprop="name"><a href="/check-and-report-scams" itemprop="url" class="mainNavLevel2Link ">Check and report scams</a>
<ul>
<li itemprop="name"><a href="/check-and-report-scams/report-an-investment-scam" itemprop="url" class="mainNavLevel3Link ">Report an investment scam</a></li>
<li itemprop="name"><a href="/check-and-report-scams/check-before-you-invest" itemprop="url" class="mainNavLevel3Link ">Check before you invest</a></li>
<li itemprop="name"><a href="/check-and-report-scams/investor-alert-list" itemprop="url" class="mainNavLevel3Link calculator">Investor alert list</a></li>
<li itemprop="name"><a href="/check-and-report-scams/what-to-do-if-you-ve-been-scammed" itemprop="url" class="mainNavLevel3Link ">What to do if you&#39;ve been scammed</a></li>
</ul>
</li>
</ul>
</li>
<li itemprop="name" class="mainNavLevel1"><a href="#community" itemprop="url" class="mainNavLevel1Link">Community resources</a>
<ul class="mainNavLevel2Container hidden customScrollBar">
<li itemprop="name"><a href="/find-unclaimed-money" itemprop="url" class="mainNavLevel2Link calculator">Find unclaimed money</a>
<ul>
<li itemprop="name"><a href="/find-unclaimed-money/claim-money-from-bank-accounts-and-bank-dividends" itemprop="url" class="mainNavLevel3Link ">Claim money from bank accounts and bank dividends</a></li>
<li itemprop="name"><a href="/find-unclaimed-money/money-held-by-state-governments" itemprop="url" class="mainNavLevel3Link ">Money held by state governments</a></li>
<li itemprop="name"><a href="/find-unclaimed-money/interest-paid-on-unclaimed-money" itemprop="url" class="mainNavLevel3Link ">Interest paid on unclaimed money</a></li>
<li itemprop="name"><a href="/find-unclaimed-money/asic-gazette" itemprop="url" class="mainNavLevel3Link ">ASIC gazette</a></li>
<li itemprop="name"><a href="/find-unclaimed-money/claim-money-from-life-insurance-policies" itemprop="url" class="mainNavLevel3Link ">Claim money from life insurance policies</a></li>
<li itemprop="name"><a href="/find-unclaimed-money/claim-money-from-shares-and-investments" itemprop="url" class="mainNavLevel3Link ">Claim money from shares and investments</a></li>
</ul>
</li>
<li itemprop="name"><a href="/teaching" itemprop="url" class="mainNavLevel2Link ">Moneysmart for teachers</a>
<ul>
<li itemprop="name"><a href="/teaching/lesson-plans" itemprop="url" class="mainNavLevel3Link ">Lesson plans</a></li>
<li itemprop="name"><a href="/teaching/teaching-consumer-and-financial-literacy" itemprop="url" class="mainNavLevel3Link ">Teaching consumer and financial literacy</a></li>
</ul>
</li>
<li itemprop="name"><a href="/student-life-and-money" itemprop="url" class="mainNavLevel2Link hub">Student life and money</a>
<ul>
<li itemprop="name"><a href="/student-life-and-money/studying" itemprop="url" class="mainNavLevel3Link ">Studying</a></li>
<li itemprop="name"><a href="/student-life-and-money/moving-out-of-home" itemprop="url" class="mainNavLevel3Link ">Moving out of home</a></li>
<li itemprop="name"><a href="/student-life-and-money/rental-bonds-and-leases" itemprop="url" class="mainNavLevel3Link ">Rental bonds and leases</a></li>
<li itemprop="name"><a href="/student-life-and-money/getting-a-job" itemprop="url" class="mainNavLevel3Link ">Getting a job</a></li>
<li itemprop="name"><a href="/student-life-and-money/credit-and-debt" itemprop="url" class="mainNavLevel3Link ">Credit and debt</a></li>
<li itemprop="name"><a href="/student-life-and-money/choosing-a-mobile-phone-plan" itemprop="url" class="mainNavLevel3Link ">Choosing a mobile phone plan</a></li>
<li itemprop="name"><a href="/student-life-and-money/buying-and-running-a-car" itemprop="url" class="mainNavLevel3Link ">Buying and running a car</a></li>
</ul>
</li>
<li itemprop="name"><a href="/publications-and-resources" itemprop="url" class="mainNavLevel2Link ">Publications and resources</a>
<ul>
<li itemprop="name"><a href="/publications-and-resources/publications" itemprop="url" class="mainNavLevel3Link ">Publications</a></li>
<li itemprop="name"><a href="/publications-and-resources/money-tips-in-other-languages" itemprop="url" class="mainNavLevel3Link ">Money tips in other languages</a></li>
</ul>
</li>
<li itemprop="name"><a href="/indigenous" itemprop="url" class="mainNavLevel2Link hub">Indigenous</a>
<ul>
<li itemprop="name"><a href="/indigenous/book-up" itemprop="url" class="mainNavLevel3Link ">Book up</a></li>
<li itemprop="name"><a href="/indigenous/dealing-with-family-pressure-about-money" itemprop="url" class="mainNavLevel3Link ">Dealing with family pressure about money</a></li>
<li itemprop="name"><a href="/indigenous/door-to-door-sales" itemprop="url" class="mainNavLevel3Link ">Door-to-door sales</a></li>
<li itemprop="name"><a href="/indigenous/managing-large-sums-of-money" itemprop="url" class="mainNavLevel3Link ">Managing large sums of money</a></li>
<li itemprop="name"><a href="/indigenous/paying-for-funerals" itemprop="url" class="mainNavLevel3Link ">Paying for funerals</a></li>
<li itemprop="name"><a href="/indigenous/buying-a-hamper" itemprop="url" class="mainNavLevel3Link ">Buying a hamper</a></li>
<li itemprop="name"><a href="/indigenous/superannuation" itemprop="url" class="mainNavLevel3Link ">Superannuation</a></li>
<li itemprop="name"><a href="/indigenous/bank-accounts" itemprop="url" class="mainNavLevel3Link ">Bank accounts</a></li>
<li itemprop="name"><a href="/indigenous/cash-loans" itemprop="url" class="mainNavLevel3Link ">Cash loans</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="navFooter">
<ul id="navAbout">
<li><a href="/about-us">About us</a></li>
<li><a href="/contact-us">Contact us</a></li>
<li><a href="/glossary">Glossary</a></li>
<li><a href="/media-centre">Media centre</a></li>
</ul>
<ul class="socialLinks">
<li><a class="icon-facebook lazy" href="https://www.facebook.com/MoneySmartAu" title="Like MoneySmart on Facebook">Like MoneySmart on Facebook</a></li>
<li><a class="icon-twitter lazy" href="https://twitter.com/moneysmartteam" title="Follow MoneySmart on Twitter">Follow MoneySmart on Twitter</a></li>
<li><a class="icon-youtube lazy" href="https://www.youtube.com/user/MoneySmartAu" title="Subscribe to MoneySmart on Youtube">Subscribe to MoneySmart on Youtube</a></li>
</ul>
<img class="lazy" src="https://static.moneysmart.gov.au/nextgen/img/image-placeholder.gif" data-src="https://static.moneysmart.gov.au/apps/next-gen-tests/root/img/ag-crest-white.svg" alt="Australian Government crest">
</div>
</div>
</nav>
</header>
<main id="mainContent">
<div id="hero">
<div id="heroImg">
<div id="heroText">
<nav id="breadcrumbs">
<a href="/managing-debt" class="breadcrumbLink">Managing debt</a>
</nav>
<div>
<h1>Financial counselling</h1>
<p id="pagetagline">Free help to sort out your money problems</p>
<p id="pagetime"><span class="visuallyhidden">Page reading time: </span>2 minutes</p>
<script>var eecReadingTime = 2;</script>
</div>
</div>
<div id="jumplinks">
<button aria-expanded="false" id="jumplinksToggle" class="inactive">On this page</button>
<ul id="jumplinksUl" class="hidden">
</ul>
</div>
</div>
</div>
<div id="content">

<p class="pagesummary">Financial counselling is a free and confidential service offered by not-for-profit community organisations.</p>

<p>Financial counsellors do not offer legal advice. If you’re facing legal action, get <a href="/managing-debt/free-legal-advice" title="Free legal advice">free legal advice</a> straight away.</p>
<h2>What financial counsellors do</h2>
<p>Financial counsellors are skilled professionals who provide advice and support to people struggling with bills and debt. A financial counsellor can:</p>
<ul>
<li>assess your financial situation</li>
<li>provide advice about what to do if you're struggling to pay bills and fines</li>
<li>help you negotiate with government agencies, your landlord, utilities, telcos, and other creditors</li>
<li>assist you if you're being harassed by <a href="/managing-debt/dealing-with-debt-collectors" title="Dealing with debt collectors">debt collectors</a></li>
<li>refer you to other services you might need, such as legal, accommodation, health and crisis services</li>
</ul>
<p>Read more about <a href="http://www.ndh.org.au/Talk-to-a-financial-counsellor/What-is-financial-counselling" title="National Debt Helpline - What is financial counselling">what financial counsellors do</a>.</p>
<div class="smartTip">
<p>Never pay for financial counselling. Businesses that charge fees for this are <a href="/managing-debt/debt-consolidation-and-refinancing" title="Debt consolidation and refinancing">debt consolidation and refinancing</a> companies.</p>
</div>

<h2>Contact a financial counsellor</h2>
<p>If you feel overwhelmed by debt, contact a financial counsellor as soon as possible. If you get help early, you will have many more options.</p>
<h3>National Debt Helpline - 1800 007 007</h3>
<p>The free <a href="http://www.ndh.org.au" title="National Debt Helpline">National Debt Helpline</a> is open from 9.30am to 4.30pm, Monday to Friday.</p>
<p>When you call, you'll be transferred to the service in your state. </p>
<h3>Mob Strong Debt Helpline - 1800 808 488</h3>
<p><a href="https://financialrights.org.au/mob-strong-debt-help/" title="Financial rights legal centre: Mob Strong Debt Help">Mob Strong Debt Helpline</a> is a free legal advice service about money matters for Aboriginal and Torres Strait Islander peoples from anywhere in Australia.</p>
<p>The Helpline is open from 9.30am to 4.30pm, Monday to Friday.</p>
<h3>Small Business Debt Helpline - 1800 413 828</h3>
<p>If your business is struggling because of COVID-19 or natural disasters, call the <a href="https://sbdh.org.au/" title="Small Business Debt Helpline">Small Business Debt Helpline</a>.</p>
<p>The Helpline is open 9.00am to 5.30pm, Monday to Friday.</p>
<h3>Farmers or rural and regional businesses</h3>
<p>Farmers and other rural businesses who are experiencing, or at risk of financial hardship, can <a href="https://nema.gov.au/get-support/rural-financial-counselling-service/rural-financial-counselling-service-information" title="Rural financial counselling service program">talk to a rural financial counsellor</a>.  </p>
<h2>Find a financial counsellor near you</h2>

<style>
@charset "UTF-8";
.loading-dots:before {
  content: none; }
.loading-dots span {
  animation-name: blink;
  animation-duration: 1.2s;
  animation-iteration-count: infinite;
  animation-fill-mode: both; }
.loading-dots span:nth-child(2) {
  animation-delay: .2s; }
.loading-dots span:nth-child(3) {
  animation-delay: .4s; }

@keyframes blink {
  0% {
    opacity: .1; }
  10% {
    opacity: .1; }
  20% {
    opacity: 1; }
  90% {
    opacity: 1; }
  100% {
    opacity: 1; } }
#mymap.hide {
  display: none; }

#map-data > p:first-child {
  padding: 2rem 1rem;
  font-weight: bold; }
#map-data.hide {
  display: none; }

#map-outer {
  position: relative;
  margin: 0 -1rem 1rem -1rem; }
  @media screen and (min-width: 47.05rem) {
    #map-outer {
      margin: 0 0 1rem 0; } }
  #map-outer label {
    display: inline-block; }
  #map-outer button.btnLink {
    text-align: left;
    font-size: .8rem;
    background-color: transparent;
    color: #0047f5;
    outline: none;
    border: none;
    text-decoration: underline;
    padding: 0;
    padding-left: 1rem;
    border-radius: .5rem;
    cursor: pointer; }
    #map-outer button.btnLink:hover {
      text-decoration: none;
      background-color: transparent !important; }
  #map-outer .lbl-no-location {
    color: #D84847; }
  #map-outer .btnSubmit {
    background-color: transparent !important;
    background: url(https://static.moneysmart.gov.au/nextgen/img/search-blue.svg) no-repeat center center;
    width: 1.25rem;
    height: 1.25rem; }
  #map-outer #lbl-pac-input-outer {
    position: absolute;
    padding-left: 1rem;
    top: 0;
    opacity: 0;
    visibility: hidden;
    transition: all .2s ease-in; }
    #map-outer #lbl-pac-input-outer.displayTop {
      top: -1.75rem;
      opacity: 1;
      visibility: visible; }
  #map-outer #pac-input-outer {
    background-color: #f5f5f5;
    border-radius: 0;
    font-size: 1.2rem;
    padding: .5rem 1rem;
    text-overflow: ellipsis;
    width: 100%;
    border-bottom: 2px solid #8e8e8e;
    margin-bottom: .5rem;
    box-sizing: border-box; }
    #map-outer #pac-input-outer::placeholder {
      /* Chrome, Firefox, Opera, Safari 10.1+ */
      opacity: 1;
      /* Firefox */ }
    #map-outer #pac-input-outer:-ms-input-placeholder {
      /* Internet Explorer 10-11 */ }
    #map-outer #pac-input-outer::-ms-input-placeholder {
      /* Microsoft Edge */ }

.accordian .accordianRow.open {
  border-top: solid .2rem #8e8e8e;
  border-bottom: solid .2rem #8e8e8e !important; }

.btnSubmit {
  border: 0 !important;
  border-radius: 0 !important;
  min-width: 0 !important;
  padding: 0 !important;
  color: transparent;
  cursor: pointer;
  height: 1.9rem;
  text-indent: -10000rem;
  width: 1.9rem;
  background-color: #0047f5 !important;
  background: url(https://static.moneysmart.gov.au/nextgen/img/search-white.svg) no-repeat center center;
  background-size: 1.2rem 1.2rem;
  margin-left: -1.9rem; }

.place-loading {
  position: absolute;
  width: 1.25rem;
  height: 1.25rem;
  display: inline-block;
  border: 3px solid rgba(31, 18, 71, 0.3);
  border-radius: 50%;
  border-top-color: #1F1247;
  top: .15rem;
  left: -2rem;
  animation: spin 1s ease-in-out infinite; }
  .place-loading.hidden {
    display: none; }

#map-outer .place-loading {
  top: .55rem;
  right: 2.5rem;
  left: auto; }
  @media screen and (min-width: 47.05rem) {
    #map-outer .place-loading {
      top: .15rem;
      left: -2rem; } }

@keyframes spin {
  to {
    -webkit-transform: rotate(360deg); } }
@-webkit-keyframes spin {
  to {
    -webkit-transform: rotate(360deg); } }
html {
  font-size: 17px; }

a {
  color: #333; }

body:not(.using-mouse) .btnLink:focus {
  outline: 0.2rem solid #ff9100 !important; }
body:not(.using-mouse) #btnSearchSubmit:focus {
  outline: 0.2rem solid #ff9100 !important; }
body:not(.using-mouse) #btnSearchSubmitOuter:focus {
  outline: 0.2rem solid #ff9100 !important; }

header {
  z-index: 2; }

#btnJumpSearchBox {
  position: absolute;
  top: 0;
  left: -9999px;
  color: #fff;
  background: 0 0;
  transition: background 1s linear;
  z-index: 100;
  cursor: pointer; }
  #btnJumpSearchBox:focus {
    position: absolute;
    left: 0;
    font-size: 1rem;
    color: #fff;
    padding: .75rem 0;
    width: 100%;
    text-align: center;
    text-decoration: none;
    transition: background .4s linear;
    outline: none;
    background-color: #D84847 !important;
    border-radius: 0;
    border: none; }
  #btnJumpSearchBox:hover {
    background-color: #D84847 !important;
    border: none;
    border-radius: 0;
    text-decoration: underline;
    padding: 0.75rem 0; }

#pac-card {
  display: none; }

#map-data #counsellors {
  line-height: 1; }
#map-data .location-list {
  margin-top: 1rem; }
  #map-data .location-list .location-item {
    margin-left: 1.25rem;
    margin-right: 1.25rem; }
    #map-data .location-list .location-item:focus {
      outline: none; }
    #map-data .location-list .location-item span {
      display: inline-block;
      width: 14rem; }

/* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
#map {
  height: 100%; }
  #map .gm-style-iw-d p {
    margin: 0; }
  #map button {
    min-width: auto; }
    #map button.gm-fullscreen-control {
      margin-top: 2.25rem !important; }

.map-container {
  position: relative;
  width: calc(100% + 2rem);
  height: calc(100vh - 8rem);
  margin: 0 0 0 -1rem;
  padding: 0;
  /*
  @media screen and (min-width: 49.05rem) {
    margin-left: calc(((100vw - 47.05rem) / 2) * -1);
    width: calc(100% + (100vw - 47.55rem));
  }
  */ }
  .map-container .btnDismiss {
    border: none !important;
    min-width: auto !important;
    background-color: transparent !important;
    border-radius: 0 !important;
    color: white !important;
    padding: 0 !important;
    width: 1rem;
    height: 1rem;
    line-height: .75rem;
    margin: 0 0 0 .25rem;
    background-repeat: no-repeat;
    background-position-x: center;
    background-position-y: center;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 352 512'%3E%3Cpath fill='%23000' d='M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z'/%3E%3C/svg%3E ");
    background-size: 1rem 1rem;
    text-indent: -1000rem;
    cursor: pointer; }
  @media screen and (min-width: 1025px) {
    .map-container {
      height: calc(100vh - 15rem);
      margin-left: calc(((1025px - 46.05rem) / 2) * -1);
      width: 1025px; } }

.fullscreen-pac-container[style] {
  z-index: 1000001 !important;
  top: 47px !important;
  margin-top: 0; }

.msg-submit {
  display: none;
  color: #fff;
  margin-top: 1.5rem;
  background-color: #0047F5;
  padding: .5rem;
  text-align: center;
  position: relative;
  width: 100%; }
  .msg-submit.success:before {
    font-size: 2.5rem;
    border-radius: 5rem;
    min-width: 1rem;
    color: #bebebe;
    display: inline-block;
    text-align: center;
    position: relative;
    line-height: 0;
    margin-right: .25rem;
    top: .1rem;
    width: 1rem;
    height: 1rem;
    content: "Ô£ö";
    text-indent: -9999rem;
    background: transparent url(https://static.moneysmart.gov.au/nextgen/img/thick-tick-white.svg);
    background-position-x: center;
    background-position-y: center;
    background-repeat: no-repeat;
    background-size: .6rem;
    border: 1px solid #bebebe; }
  .msg-submit.error {
    background-color: #D84847; }
    .msg-submit.error:before {
      content: none; }

#map-msg {
  position: absolute;
  bottom: 2.5rem;
  z-index: 1000001;
  width: calc(100% - 7rem);
  text-align: center;
  background: #fff;
  padding: .5rem 0;
  margin-left: 3.5rem;
  font-size: .9rem;
  display: none; }

.hr-and-print {
  position: relative; }

.outlet {
  margin-right: 3rem; }

.btnPrint {
  border: none !important;
  min-width: auto !important;
  background-color: transparent !important;
  border-radius: 0 !important;
  padding: 0 !important;
  width: 1rem;
  height: 1rem;
  margin: 0 0 0 .25rem;
  background-repeat: no-repeat;
  background-position-x: center;
  background-position-y: center;
  background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM8 5h8v3H8V5zm8 14H8v-4h8v4zm2-4v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4h-2z'/%3E%3Ccircle cx='18' cy='11.5' r='1'/%3E%3C/svg%3E");
  background-size: 1.25rem 1.25rem;
  bottom: 1.25rem;
  right: .25rem;
  position: absolute;
  text-indent: -1000rem;
  cursor: pointer; }

#btnCloseInfowindow {
  display: none;
  border: none !important;
  min-width: auto !important;
  background-color: transparent !important;
  border-radius: 0 !important;
  padding: 0 !important;
  width: 1rem;
  height: 1rem;
  margin: 0 0 0 .25rem;
  background-repeat: no-repeat;
  background-position-x: center;
  background-position-y: center;
  background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3C/svg%3E");
  background-size: 1.25rem 1.25rem;
  right: .5rem;
  top: .25rem;
  position: absolute;
  text-indent: -1000rem;
  cursor: pointer; }

#map-data #btnNewCounsellor-container, #map #btnNewCounsellor-container, #print_map #btnNewCounsellor-container {
  z-index: 10000002 !important; }
  #map-data #btnNewCounsellor-container.hide, #map #btnNewCounsellor-container.hide, #print_map #btnNewCounsellor-container.hide {
    display: none; }
#map-data #btnNewCounsellor, #map #btnNewCounsellor, #print_map #btnNewCounsellor {
  border-radius: 0;
  font-size: .75rem;
  padding: .25rem 1rem;
  background-color: rgba(255, 255, 255, 0.85);
  color: #0047F5;
  border: solid 0.1rem #0047F5;
  cursor: pointer; }
  #map-data #btnNewCounsellor:hover, #map #btnNewCounsellor:hover, #print_map #btnNewCounsellor:hover {
    color: #ffffff;
    background-color: #0047f5; }
#map-data .location-details, #map-data.location-details, #map .location-details, #map.location-details, #print_map .location-details, #print_map.location-details {
  font-size: .9rem;
  line-height: 1.25rem;
  box-sizing: border-box;
  padding: 0;
  height: 100%;
  width: 0;
  background-color: white;
  position: fixed;
  z-index: 1000001 !important;
  overflow-x: hidden;
  overflow-y: hidden;
  transition: all .2s ease-out;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); }
  #map-data .location-details .hidden, #map-data.location-details .hidden, #map .location-details .hidden, #map.location-details .hidden, #print_map .location-details .hidden, #print_map.location-details .hidden {
    display: none; }
  #map-data .location-details hr, #map-data.location-details hr, #map .location-details hr, #map.location-details hr, #print_map .location-details hr, #print_map.location-details hr {
    width: calc(100% + 2.5rem);
    border-top: #e6e6e6;
    max-width: 100%;
    margin: 0 0 1rem -1.25rem; }
  #map-data .location-details p, #map-data.location-details p, #map .location-details p, #map.location-details p, #print_map .location-details p, #print_map.location-details p {
    margin-bottom: 1rem; }
  #map-data .location-details ul, #map-data.location-details ul, #map .location-details ul, #map.location-details ul, #print_map .location-details ul, #print_map.location-details ul {
    list-style-type: none;
    padding-left: 0; }
    #map-data .location-details ul li span.weekday, #map-data.location-details ul li span.weekday, #map .location-details ul li span.weekday, #map.location-details ul li span.weekday, #print_map .location-details ul li span.weekday, #print_map.location-details ul li span.weekday {
      width: 6rem;
      display: inline-block; }
  #map-data .location-details .icon-block, #map-data.location-details .icon-block, #map .location-details .icon-block, #map.location-details .icon-block, #print_map .location-details .icon-block, #print_map.location-details .icon-block {
    margin-left: 1.75rem;
    font-size: .9rem;
    line-height: 1.25rem;
    margin-bottom: 1rem; }
    #map-data .location-details .icon-block.nowrap a, #map-data.location-details .icon-block.nowrap a, #map .location-details .icon-block.nowrap a, #map.location-details .icon-block.nowrap a, #print_map .location-details .icon-block.nowrap a, #print_map.location-details .icon-block.nowrap a {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: 15.3rem;
      display: inline-block; }
    #map-data .location-details .icon-block:before, #map-data.location-details .icon-block:before, #map .location-details .icon-block:before, #map.location-details .icon-block:before, #print_map .location-details .icon-block:before, #print_map.location-details .icon-block:before {
      position: absolute;
      width: 24px;
      height: 24px;
      left: .75rem;
      content: "";
      background-repeat: no-repeat;
      display: block; }
      @media screen and (min-width: 47.05rem) {
        #map-data .location-details .icon-block:before, #map-data.location-details .icon-block:before, #map .location-details .icon-block:before, #map.location-details .icon-block:before, #print_map .location-details .icon-block:before, #print_map.location-details .icon-block:before {
          left: 1rem; } }
  #map-data .location-details .address:before, #map-data.location-details .address:before, #map .location-details .address:before, #map.location-details .address:before, #print_map .location-details .address:before, #print_map.location-details .address:before {
    background-image: url("data:image/svg+xml,%3Csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 997.52 839.57' width='24px' height='24px'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230047f5;%7D.cls-2%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M637,709.29C947.23,700.71,983.8,560,993.75,374.54,995.39,100.51,1038.84,9.72,789,7.32,648.79,6,647.08,3.72,492.12,2.65,426.79,2.19,364.15,0,307,0,157.4,0,45.51,15,21.76,115.33A834.75,834.75,0,0,0,.1,302.79v.78C.17,449.19,41.05,599.18,165,653.43c165,72.2,265.18,14.24,265.18,186.14C430.16,839.57,495.59,713.2,637,709.29Z'/%3E%3Cpath class='cls-2' d='M626.46,309.69s48.17,2.74,75.28-2.88,55.63.94,60.34,23.57S815.83,527,815.83,527l-92.6-4.52s-18.05-52.08-20.73-51.87c-3.3.25-8.88,52.89-8.88,52.89L469.7,527s8.5-219.83,24.56-218.11,34,1.41,62.27,2.5S626.46,309.69,626.46,309.69Z'/%3E%3Cpath class='cls-1' d='M822.53,532.31l-102.92-5-1.1-3.19c-5-14.39-10.68-29.9-14.69-39.82-1.72,10.08-3.72,25.52-5.22,39.73l-.47,4.4L464.5,532.06l.21-5.27c0-.51,2-51.83,5.83-104.06,7.85-107.57,15.51-114.19,18.77-117a7.18,7.18,0,0,1,5.48-1.82c10.12,1.08,21.16,1.34,35.12,1.68,7.82.19,16.67.4,26.81.8,27.69,1.07,69-1.65,69.41-1.68l.31,0,.3,0c.48,0,47.84,2.63,74-2.79,14.89-3.08,29.52-2.6,41.19,1.36,13.62,4.62,22.53,13.88,25.07,26.09,4.62,22.21,53.17,194.53,53.66,196.27ZM495.33,314c-2.41,4-8.52,22.75-14.89,110.42-3,42-4.92,83.19-5.52,97.48l214.22-3.35c.56-5,1.57-13.58,2.73-22.1,3.68-26.81,5.39-30.48,10.26-30.85,4.26-.33,6.15,3.56,9.34,11,1.86,4.36,4.25,10.44,7.09,18.05,3.38,9.08,6.63,18.25,8.28,22.93l82.3,4c-9.17-32.59-47.73-170-51.95-190.25-4.06-19.49-30.46-24.66-54.44-19.69-26.59,5.51-71.71,3.24-76.27,3-3.88.25-43.2,2.71-70.14,1.67-10.07-.39-18.89-.6-26.67-.79C516.19,315.25,505.4,315,495.33,314Z'/%3E%3Ccircle class='cls-2' cx='370.64' cy='211.5' r='74.08'/%3E%3Ccircle class='cls-2' cx='617.28' cy='248.79' r='74.08'/%3E%3Cpath class='cls-1' d='M617.28,327.87a79.08,79.08,0,1,1,79.08-79.08A79.17,79.17,0,0,1,617.28,327.87Zm0-148.16a69.08,69.08,0,1,0,69.08,69.08A69.16,69.16,0,0,0,617.28,179.71Z'/%3E%3Cpath class='cls-2' d='M183.77,527a1.86,1.86,0,0,1-1.83-2.24c3.95-19.39,36.91-147.23,54.12-177.86,24.24-43.16,54.64-66.06,106.66-57.51,49,8.05,98.22-8.63,156.14,11.84,86.25,30.49,221.24,1.68,230,0,22.75-4.41,37.68,11.92,27.58,43.34-6.78,21.08-25.5,29.74-64.29,36.1s-55,8.4-104.75,11.81c-13.54.93-80.3,5.43-91.47,6.69a1.86,1.86,0,0,0-1.66,1.85v124.1a1.87,1.87,0,0,1-1.9,1.86l-195.54-3.78a1.87,1.87,0,0,1-1.81-1.58c-1.38-8.86-8.48-52.86-13.73-54-3.54-.76-14.7,48.74-16.73,57.93a1.86,1.86,0,0,1-1.83,1.46Z'/%3E%3Cpath class='cls-1' d='M262.72,532h-79a6.86,6.86,0,0,1-6.73-8.24c4-19.46,36.87-147.64,54.66-179.31,13.58-24.17,27.8-40.07,44.74-50,18.83-11.05,40.78-14.31,67.09-10,19,3.13,38,2.44,58.1,1.71,31-1.13,63.11-2.29,98.9,10.36,76.09,26.9,192.22,6.84,226,.06l1.36-.27c12.24-2.38,22.7.49,29.43,8.09,8.18,9.21,9.55,24,3.87,41.68-8,25-31.11,33.42-68.24,39.51C654,392,637.58,394,587.73,397.43l-4.61.31c-17.61,1.2-68.69,4.68-83.86,6.08V525.08a6.86,6.86,0,0,1-6.86,6.86h-.14l-195.53-3.78a6.87,6.87,0,0,1-6.66-5.81c-3.12-20-6.27-34.91-8.67-43.3-3,9.77-7.48,27.29-12,47.56A6.82,6.82,0,0,1,262.72,532Zm-75.07-10h72.56c1.37-6.08,4.27-18.75,7.3-30.41,2-7.72,3.76-13.82,5.21-18.14,1.79-5.31,4-11.92,9.62-10.72,3.47.74,8.7,1.87,17.2,55.5l189.72,3.67V401a6.86,6.86,0,0,1,6.1-6.82c10.31-1.17,66.08-5,87.08-6.39l4.61-.32c49.43-3.38,65.73-5.42,104.28-11.75,39.32-6.45,54.55-14.7,60.34-32.7,4.55-14.17,3.9-25.53-1.83-32-4.29-4.84-11.41-6.58-20-4.91l-1.3.26c-21.29,4.28-74.76,13.72-131,13.73-34.65,0-70.36-3.59-100.28-14.16-34-12-65.12-10.89-95.21-9.8-20.62.75-40.09,1.45-60.08-1.83-45.29-7.44-75.64,9-101.49,55C224.68,377.34,194.34,492.26,187.65,522Z'/%3E%3C/svg%3E"); }
  #map-data .location-details .phone:before, #map-data.location-details .phone:before, #map .location-details .phone:before, #map.location-details .phone:before, #print_map .location-details .phone:before, #print_map.location-details .phone:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none' /%3E%3Cpath fill='%230047f5' d='M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z'/%3E%3C/svg%3E"); }
  #map-data .location-details .email:before, #map-data.location-details .email:before, #map .location-details .email:before, #map.location-details .email:before, #print_map .location-details .email:before, #print_map.location-details .email:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath fill='%230047f5' d='M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z'/%3E%3C/svg%3E"); }
  #map-data .location-details .website:before, #map-data.location-details .website:before, #map .location-details .website:before, #map.location-details .website:before, #print_map .location-details .website:before, #print_map.location-details .website:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath fill='%230047f5' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12zm13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4z'/%3E%3C/svg%3E"); }
  #map-data .location-details .hours:before, #map-data.location-details .hours:before, #map .location-details .hours:before, #map.location-details .hours:before, #print_map .location-details .hours:before, #print_map.location-details .hours:before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24' viewBox='0 0 24 24' width='24'%3E%3Cg%3E%3Crect fill='none' height='24' width='24' x='0'/%3E%3C/g%3E%3Cg%3E%3Cg%3E%3Cpath fill='%230047f5' d='M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z M12.5,7H11v6l5.2,3.2l0.8-1.3l-4.5-2.7V7z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
  #map-data .location-details input, #map-data .location-details textarea, #map-data .location-details select, #map-data .location-details label, #map-data.location-details input, #map-data.location-details textarea, #map-data.location-details select, #map-data.location-details label, #map .location-details input, #map .location-details textarea, #map .location-details select, #map .location-details label, #map.location-details input, #map.location-details textarea, #map.location-details select, #map.location-details label, #print_map .location-details input, #print_map .location-details textarea, #print_map .location-details select, #print_map .location-details label, #print_map.location-details input, #print_map.location-details textarea, #print_map.location-details select, #print_map.location-details label {
    display: none; }
  #map-data .location-details .empty, #map-data.location-details .empty, #map .location-details .empty, #map.location-details .empty, #print_map .location-details .empty, #print_map.location-details .empty {
    display: none; }
  #map-data .location-details.edit-mode label, #map-data.location-details.edit-mode label, #map .location-details.edit-mode label, #map.location-details.edit-mode label, #print_map .location-details.edit-mode label, #print_map.location-details.edit-mode label {
    display: block;
    margin-left: .5rem;
    margin-bottom: 0; }
  #map-data .location-details.edit-mode input, #map-data .location-details.edit-mode select, #map-data.location-details.edit-mode input, #map-data.location-details.edit-mode select, #map .location-details.edit-mode input, #map .location-details.edit-mode select, #map.location-details.edit-mode input, #map.location-details.edit-mode select, #print_map .location-details.edit-mode input, #print_map .location-details.edit-mode select, #print_map.location-details.edit-mode input, #print_map.location-details.edit-mode select {
    display: inline-block;
    width: 100%;
    font-size: .9rem;
    padding: .5rem;
    font-family: Roboto, Arial, sans-serif;
    border-radius: .25rem;
    box-sizing: border-box;
    border: solid .05rem #f3f3f3; }
    #map-data .location-details.edit-mode input.emptyField, #map-data .location-details.edit-mode select.emptyField, #map-data.location-details.edit-mode input.emptyField, #map-data.location-details.edit-mode select.emptyField, #map .location-details.edit-mode input.emptyField, #map .location-details.edit-mode select.emptyField, #map.location-details.edit-mode input.emptyField, #map.location-details.edit-mode select.emptyField, #print_map .location-details.edit-mode input.emptyField, #print_map .location-details.edit-mode select.emptyField, #print_map.location-details.edit-mode input.emptyField, #print_map.location-details.edit-mode select.emptyField {
      background-image: radial-gradient(circle at center, #d84847 3px, transparent 4px);
      background-repeat: no-repeat;
      background-position-x: right;
      background-size: 1rem 100%; }
  #map-data .location-details.edit-mode textarea, #map-data.location-details.edit-mode textarea, #map .location-details.edit-mode textarea, #map.location-details.edit-mode textarea, #print_map .location-details.edit-mode textarea, #print_map.location-details.edit-mode textarea {
    display: block;
    width: 100%;
    height: 4.3rem;
    font-size: .9rem;
    padding: .5rem;
    font-family: Roboto, Arial, sans-serif;
    border-radius: .25rem;
    box-sizing: border-box;
    border: solid .05rem #f3f3f3; }
  #map-data .location-details.edit-mode #edit-contactEmailMsg, #map-data .location-details.edit-mode #edit-contactCommentsMsg, #map-data.location-details.edit-mode #edit-contactEmailMsg, #map-data.location-details.edit-mode #edit-contactCommentsMsg, #map .location-details.edit-mode #edit-contactEmailMsg, #map .location-details.edit-mode #edit-contactCommentsMsg, #map.location-details.edit-mode #edit-contactEmailMsg, #map.location-details.edit-mode #edit-contactCommentsMsg, #print_map .location-details.edit-mode #edit-contactEmailMsg, #print_map .location-details.edit-mode #edit-contactCommentsMsg, #print_map.location-details.edit-mode #edit-contactEmailMsg, #print_map.location-details.edit-mode #edit-contactCommentsMsg {
    margin: .25rem 0 0 .5rem;
    color: #D84847;
    display: inline-block; }
  #map-data .location-details.edit-mode span, #map-data.location-details.edit-mode span, #map .location-details.edit-mode span, #map.location-details.edit-mode span, #print_map .location-details.edit-mode span, #print_map.location-details.edit-mode span {
    display: none; }
  #map-data .location-details.edit-mode ul li .weekday, #map-data.location-details.edit-mode ul li .weekday, #map .location-details.edit-mode ul li .weekday, #map.location-details.edit-mode ul li .weekday, #print_map .location-details.edit-mode ul li .weekday, #print_map.location-details.edit-mode ul li .weekday {
    margin-top: 1rem; }
  #map-data .location-details.edit-mode ul li:first-of-type .weekday, #map-data.location-details.edit-mode ul li:first-of-type .weekday, #map .location-details.edit-mode ul li:first-of-type .weekday, #map.location-details.edit-mode ul li:first-of-type .weekday, #print_map .location-details.edit-mode ul li:first-of-type .weekday, #print_map.location-details.edit-mode ul li:first-of-type .weekday {
    margin-top: .15rem; }
  #map-data .location-details.edit-mode .address input, #map-data.location-details.edit-mode .address input, #map .location-details.edit-mode .address input, #map.location-details.edit-mode .address input, #print_map .location-details.edit-mode .address input, #print_map.location-details.edit-mode .address input {
    margin-bottom: .5rem; }
  #map-data .location-details.edit-mode .empty, #map-data.location-details.edit-mode .empty, #map .location-details.edit-mode .empty, #map.location-details.edit-mode .empty, #print_map .location-details.edit-mode .empty, #print_map.location-details.edit-mode .empty {
    display: block; }
  #map-data .location-details.edit-mode .container-btnEdit button[data-action="edit"], #map-data.location-details.edit-mode .container-btnEdit button[data-action="edit"], #map .location-details.edit-mode .container-btnEdit button[data-action="edit"], #map.location-details.edit-mode .container-btnEdit button[data-action="edit"], #print_map .location-details.edit-mode .container-btnEdit button[data-action="edit"], #print_map.location-details.edit-mode .container-btnEdit button[data-action="edit"] {
    display: none; }
  #map-data .location-details.edit-mode .container-btnEdit button[data-action="close"], #map-data.location-details.edit-mode .container-btnEdit button[data-action="close"], #map .location-details.edit-mode .container-btnEdit button[data-action="close"], #map.location-details.edit-mode .container-btnEdit button[data-action="close"], #print_map .location-details.edit-mode .container-btnEdit button[data-action="close"], #print_map.location-details.edit-mode .container-btnEdit button[data-action="close"] {
    display: none; }
  #map-data .location-details.edit-mode .container-btnEdit button[data-action="review"], #map-data.location-details.edit-mode .container-btnEdit button[data-action="review"], #map .location-details.edit-mode .container-btnEdit button[data-action="review"], #map.location-details.edit-mode .container-btnEdit button[data-action="review"], #print_map .location-details.edit-mode .container-btnEdit button[data-action="review"], #print_map.location-details.edit-mode .container-btnEdit button[data-action="review"] {
    display: inline-block; }
  #map-data .location-details.edit-mode .container-btnEdit button[data-action="submit"], #map-data.location-details.edit-mode .container-btnEdit button[data-action="submit"], #map .location-details.edit-mode .container-btnEdit button[data-action="submit"], #map.location-details.edit-mode .container-btnEdit button[data-action="submit"], #print_map .location-details.edit-mode .container-btnEdit button[data-action="submit"], #print_map.location-details.edit-mode .container-btnEdit button[data-action="submit"] {
    display: inline-block; }
  #map-data .location-details.edit-mode .container-btnEdit button[data-action="cancel"], #map-data.location-details.edit-mode .container-btnEdit button[data-action="cancel"], #map .location-details.edit-mode .container-btnEdit button[data-action="cancel"], #map.location-details.edit-mode .container-btnEdit button[data-action="cancel"], #print_map .location-details.edit-mode .container-btnEdit button[data-action="cancel"], #print_map.location-details.edit-mode .container-btnEdit button[data-action="cancel"] {
    display: inline-block; }
  #map-data .location-details h3, #map-data.location-details h3, #map .location-details h3, #map.location-details h3, #print_map .location-details h3, #print_map.location-details h3 {
    margin-top: 1.5rem; }
  #map-data .location-details .container-btnEdit, #map-data.location-details .container-btnEdit, #map .location-details .container-btnEdit, #map.location-details .container-btnEdit, #print_map .location-details .container-btnEdit, #print_map.location-details .container-btnEdit {
    text-align: center;
    margin-top: 2rem; }
    #map-data .location-details .container-btnEdit button, #map-data.location-details .container-btnEdit button, #map .location-details .container-btnEdit button, #map.location-details .container-btnEdit button, #print_map .location-details .container-btnEdit button, #print_map.location-details .container-btnEdit button {
      max-width: 20rem;
      margin-bottom: 1rem;
      width: 100%;
      padding: 0.55rem 1.25rem;
      border-radius: 2rem;
      font-size: 1rem;
      color: #0047F5;
      border: solid 0.1rem #0047F5;
      background-color: #ffffff;
      cursor: pointer; }
      #map-data .location-details .container-btnEdit button:not(.btnLink):hover, #map-data.location-details .container-btnEdit button:not(.btnLink):hover, #map .location-details .container-btnEdit button:not(.btnLink):hover, #map.location-details .container-btnEdit button:not(.btnLink):hover, #print_map .location-details .container-btnEdit button:not(.btnLink):hover, #print_map.location-details .container-btnEdit button:not(.btnLink):hover {
        background-color: #0047f5 !important;
        color: #fff; }
      #map-data .location-details .container-btnEdit button.hide, #map-data.location-details .container-btnEdit button.hide, #map .location-details .container-btnEdit button.hide, #map.location-details .container-btnEdit button.hide, #print_map .location-details .container-btnEdit button.hide, #print_map.location-details .container-btnEdit button.hide {
        display: none; }
  #map-data .location-details button.btnLink, #map-data.location-details button.btnLink, #map .location-details button.btnLink, #map.location-details button.btnLink, #print_map .location-details button.btnLink, #print_map.location-details button.btnLink {
    font-size: .8rem;
    background-color: transparent;
    color: #0047f5;
    outline: none;
    border: none;
    text-decoration: underline;
    padding: 0;
    border-radius: .5rem;
    cursor: pointer;
    width: 100%; }
    #map-data .location-details button.btnLink:hover, #map-data.location-details button.btnLink:hover, #map .location-details button.btnLink:hover, #map.location-details button.btnLink:hover, #print_map .location-details button.btnLink:hover, #print_map.location-details button.btnLink:hover {
      text-decoration: none;
      background-color: transparent !important; }
  #map-data .location-details .viewMapContainer .btnLink, #map-data.location-details .viewMapContainer .btnLink, #map .location-details .viewMapContainer .btnLink, #map.location-details .viewMapContainer .btnLink, #print_map .location-details .viewMapContainer .btnLink, #print_map.location-details .viewMapContainer .btnLink {
    width: auto;
    min-width: auto;
    text-align: left; }
  #map-data .location-details.open, #map-data.location-details.open, #map .location-details.open, #map.location-details.open, #print_map .location-details.open, #print_map.location-details.open {
    width: calc(100% - 1rem);
    padding-left: 1rem;
    padding-right: 1rem;
    overflow-y: auto; }
    @media screen and (min-width: 47.05rem) {
      #map-data .location-details.open, #map-data.location-details.open, #map .location-details.open, #map.location-details.open, #print_map .location-details.open, #print_map.location-details.open {
        width: 426px;
        border-left: 2px solid #cac8c3;
        padding-left: 1.25rem;
        padding-right: 1.25rem; } }
  #map-data .location-details.details-full-width, #map-data.location-details.details-full-width, #map .location-details.details-full-width, #map.location-details.details-full-width, #print_map .location-details.details-full-width, #print_map.location-details.details-full-width {
    width: calc(100% - 2.5rem);
    position: static;
    overflow-x: auto;
    height: auto;
    box-shadow: none; }
    #map-data .location-details.details-full-width hr, #map-data.location-details.details-full-width hr, #map .location-details.details-full-width hr, #map.location-details.details-full-width hr, #print_map .location-details.details-full-width hr, #print_map.location-details.details-full-width hr {
      width: auto !important; }
    #map-data .location-details.details-full-width .nowrap, #map-data.location-details.details-full-width .nowrap, #map .location-details.details-full-width .nowrap, #map.location-details.details-full-width .nowrap, #print_map .location-details.details-full-width .nowrap, #print_map.location-details.details-full-width .nowrap {
      width: auto; }
#map-data.full-screen .location-details .icon-block:before, #map.full-screen .location-details .icon-block:before, #print_map.full-screen .location-details .icon-block:before {
  left: .5rem; }
  @media screen and (min-width: 47.05rem) {
    #map-data.full-screen .location-details .icon-block:before, #map.full-screen .location-details .icon-block:before, #print_map.full-screen .location-details .icon-block:before {
      left: 1rem; } }
#map-data.full-screen .location-details.open, #map.full-screen .location-details.open, #print_map.full-screen .location-details.open {
  padding-left: .75rem;
  padding-right: .75rem; }
  @media screen and (min-width: 47.05rem) {
    #map-data.full-screen .location-details.open, #map.full-screen .location-details.open, #print_map.full-screen .location-details.open {
      padding-left: 1.25rem;
      padding-right: 1.25rem; } }

#map .location-details .inputMsg {
  margin: .25rem 0 0 .5rem;
  color: #D84847;
  display: inline-block;
  font-size: .9rem;
  font-weight: bold;
  font-family: Roboto, Arial, sans-serif; }
#map .location-details.edit-mode #infoWindow-page1 #infoWindow-print {
  display: none; }
#map .location-details.edit-mode #infoWindow-page1:before {
  content: 'Scroll to bottom of panel to submit or cancel changes';
  font-size: .75rem;
  padding: .5rem; }

#map-data .location-details .container-btnEdit button {
  max-width: 22rem; }

#description {
  font-size: 1rem; }

#infowindow-content .title {
  font-weight: bold; }

#infowindow-content {
  display: none; }

#map #infowindow-content {
  display: inline; }

.pac-card {
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
  margin: .75rem 1rem 0 0;
  box-sizing: border-box;
  outline: none;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
  background-color: #fff; }

#pac-container {
  background-color: #0047f5; }

.pac-container {
  margin-top: -4rem; }
  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .pac-container {
      margin-top: 0; } }
  .pac-container:before {
    content: 'Choose suburb from list below';
    position: absolute;
    left: 0;
    top: 0;
    font-size: .75rem;
    padding: .22rem .5rem;
    background-color: #dee8ff;
    width: 100%;
    font-weight: bold; }
  .pac-container .pac-item:first-child {
    margin-top: 1.5rem; }

.pac-controls {
  display: inline-block;
  padding: .5rem 1rem; }

.pac-controls label {
  font-size: .9rem;
  font-weight: 300; }

#pac-input {
  color: #fff;
  background-color: #0047f5;
  border-radius: 0;
  font-size: .8rem;
  padding: .5rem 1rem;
  text-overflow: ellipsis;
  width: 15rem;
  border: 2px none #eae8e3;
  background-image: url(https://static.moneysmart.gov.au/nextgen/img/search-white.svg);
  background-size: 1rem 1rem;
  background-position: 13.5rem center;
  background-repeat: no-repeat;
  box-sizing: border-box; }
  #pac-input::placeholder {
    /* Chrome, Firefox, Opera, Safari 10.1+ */
    color: #fff;
    opacity: 1;
    /* Firefox */ }
  #pac-input:-ms-input-placeholder {
    /* Internet Explorer 10-11 */
    color: #fff; }
  #pac-input::-ms-input-placeholder {
    /* Microsoft Edge */
    color: #fff; }

#btnSearchSubmit {
  border: 0 !important;
  border-radius: 0 !important;
  min-width: 0 !important;
  padding: 0 !important;
  color: transparent;
  cursor: pointer;
  height: 1.9rem;
  text-indent: -10000rem;
  width: 1.9rem;
  background-color: #0047f5 !important;
  background: url(https://static.moneysmart.gov.au/nextgen/img/search-white.svg) no-repeat center center;
  background-size: 1.2rem 1.2rem;
  margin-left: -1.9rem; }

#pac-error {
  display: none;
  padding: .25rem 1rem;
  color: #D84847;
  background-color: white; }

#pac-link {
  padding: .3rem 1rem .5rem 1rem;
  display: none;
  background-color: #fff; }
  #pac-link.hide-link {
    display: none !important; }

#btnCurrentLocation-container {
  padding: .3rem 1rem .5rem 1rem;
  background-color: #fff; }
  #btnCurrentLocation-container button.btnLink {
    text-align: left;
    font-size: .8rem;
    background-color: transparent;
    color: #0047f5;
    outline: none;
    border: none;
    text-decoration: underline;
    padding: 0;
    border-radius: .5rem;
    cursor: pointer;
    width: 100%; }
    #btnCurrentLocation-container button.btnLink:hover {
      text-decoration: none;
      background-color: transparent !important; }

#pac-title {
  color: #fff;
  background-color: #0047f5;
  font-size: 1.3rem;
  font-weight: 500;
  padding: .5rem 1rem; }

.accordianRowContent {
  position: relative; }

#link-search-box-container {
  display: none; }

#markerLayer div[style*='width: 32px; height: 32px;'] {
  animation: zoomDown 0.4s ease-out !important; }

@keyframes rotating {
  from {
    transform: rotate(0deg); }
  to {
    transform: rotate(360deg); } }
@keyframes zoomDown {
  from {
    transform: scale(20);
    opacity: .1; }
  to {
    transform: scale(1);
    opacity: 1; } }
/* NDH BRANDING */
body.fullpage {
  margin: 0;
  padding: 0;
  position: relative;
  line-height: 1.59;
  color: #333;
  font-family: montserrat,sans-serif; }
  body.fullpage .pac-container {
    margin-top: 0; }
  body.fullpage #map {
    width: 100%;
    height: 100vh; }
  body.fullpage .map-container {
    height: 100vh;
    width: 100%;
    margin: 0; }
  body.fullpage #map.brand-ndh + #map-data .counsellors-container {
    margin-top: 0; }
  body.fullpage #pac-card {
    position: fixed !important; }
  body.fullpage #btnCloseInfowindow {
    display: block; }

#map-data:target {
  z-index: 1 !important; }

@media screen and (min-width: 47.05rem) {
  .brand-ndh .map-container {
    margin-left: 0;
    width: 100%; } }

#map.brand-ndh #btnSearchSubmit {
  background-color: #333 !important; }
#map.brand-ndh + #map-data {
  position: absolute;
  left: 0;
  top: 0;
  overflow-y: scroll;
  height: 100%;
  width: 100%;
  background-color: white;
  z-index: -1; }
  #map.brand-ndh + #map-data .counsellors-container {
    z-index: 1;
    position: sticky;
    top: 0;
    margin-top: 4.4rem; }
  #map.brand-ndh + #map-data h3 {
    margin-top: 0;
    margin-bottom: 0;
    padding-top: .5rem;
    padding-left: .5rem;
    padding-bottom: 1.4rem;
    background-color: white; }
    #map.brand-ndh + #map-data h3 + p {
      padding-bottom: .5rem;
      background-color: white; }
  #map.brand-ndh + #map-data #link-search-box {
    padding-left: .5rem; }
#map.brand-ndh #pac-input {
  background-color: #333; }
#map.brand-ndh .location-details .address:before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%23333' width='32px' height='32px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z'/%3E%3C/svg%3E"); }
#map.brand-ndh .location-details .phone:before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none' /%3E%3Cpath fill='%23333' d='M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z'/%3E%3C/svg%3E"); }
#map.brand-ndh .location-details .email:before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath fill='%23333' d='M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z'/%3E%3C/svg%3E"); }
#map.brand-ndh .location-details .website:before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath fill='%23333' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12zm13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4z'/%3E%3C/svg%3E"); }
#map.brand-ndh .location-details .hours:before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24' viewBox='0 0 24 24' width='24'%3E%3Cg%3E%3Crect fill='none' height='24' width='24' x='0'/%3E%3C/g%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23333' d='M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z M12.5,7H11v6l5.2,3.2l0.8-1.3l-4.5-2.7V7z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }

/*
if we want to draw the users attention one thing on the page
e.g. a calculator then add distractionfree class to body
*/
header {
  transition: background-color .5s ease-in; }
  header .focusMsg {
    display: none;
    color: #fff;
    font-size: .7rem;
    position: absolute;
    top: 0;
    width: calc(100% - 2rem);
    text-align: right; }
    @media screen and (min-width: 65rem) {
      header .focusMsg {
        width: calc(100% - 4rem); } }
    header .focusMsg label {
      display: inline;
      color: #fff; }

.distractionfree .ms-calc {
  margin-bottom: 0; }
.distractionfree #mainContent {
  padding-bottom: 0; }
.distractionfree #pac-card {
  display: block; }

.distractionfree #bannerAlert,
.distractionfree #hero,
.distractionfree aside.feedback,
.distractionfree aside.upnext,
.distractionfree footer,
.distractionfree #content > * {
  display: none; }

/* ie11 fixes josh */
.distractionfree > main {
  display: block;
  margin-top: 4.5rem; }
  .distractionfree > main .map-container {
    height: calc(100vh - 4.5rem);
    height: calc(var(--vh, 1vh) * 100 - 4.5rem);
    width: 100%;
    position: absolute;
    left: 0;
    margin-left: 0;
    transform: scaleY(0.7);
    transform-origin: bottom center;
    animation: createBox .5s forwards;
    /*
    @media screen and (min-width: 49.05rem) {
      width: 100%;
      position: absolute;
      left: 0;
      margin-left: 0;
      transform: scale(.6);
      transform-origin: center center;
      animation: createBoxDesktop .5s forwards;

      .location-details {
        transition: all .2s ease-out !important;
        &.open {
          transition: all .2s ease-out .5s !important;
        }
      }
    }
    */ }
    @media screen and (min-width: 49.05rem) {
      .distractionfree > main .map-container {
        transform: scale(0.6);
        transform-origin: center center;
        animation: createBoxDesktop .5s forwards; }
        .distractionfree > main .map-container.load-counsellor {
          transform: none;
          animation: none; } }
    .distractionfree > main .map-container .location-details {
      transition: all .4s ease-out !important; }
      .distractionfree > main .map-container .location-details.open {
        transition: all .4s ease-out 1s !important; }
        .distractionfree > main .map-container .location-details.open.new {
          transition: all .2s ease-out .5s !important; }
    .distractionfree > main .map-container.load-counsellor location-details {
      transition: none; }

.distractionfree #toggleSearch {
  display: none; }

.distractionfree header button {
  visibility: hidden; }

/* now add the focused class to some content this will be the only visible content on the screen */
.distractionfree #content .focused {
  display: block; }

header.dark .closeButton {
  background: transparent url(https://static.moneysmart.gov.au/nextgen/img/close-white.svg) no-repeat top center;
  border: 0 none;
  color: transparent;
  cursor: pointer;
  height: 1.25rem;
  text-indent: -10000rem;
  width: 1.25rem;
  visibility: visible !important; }

@keyframes createBox {
  from {
    transform: scaleY(0.7);
    width: 99%; }
  to {
    transform: scaleY(1);
    width: 100%; } }
@keyframes createBoxDesktop {
  from {
    transform: scale(0.6);
    width: 99%; }
  to {
    transform: scale(1);
    width: 100%; } }
#print_map {
  display: none; }

@media only print {
  body.counsellorOpen {
    background-color: white; }
    body.counsellorOpen #print_map {
      display: block !important;
      box-shadow: none !important;
      position: static !important; }
      body.counsellorOpen #print_map .container-btnEdit {
        display: none; }
      body.counsellorOpen #print_map .icon-block {
        /* some browser support to show the map icons without having to turn on background images in print settings */
        -webkit-print-color-adjust: exact;
        color-adjust: exact; }
    body.counsellorOpen #hero {
      display: block !important; }
    body.counsellorOpen #heroText {
      display: none; }
    body.counsellorOpen #content {
      display: none; }
    body.counsellorOpen #mymap {
      display: none; }
      body.counsellorOpen #mymap #pac-container {
        display: none; }
      body.counsellorOpen #mymap #infoWindow-panel {
        top: 160px !important;
        position: fixed !important;
        width: calc(100% + .25rem);
        height: auto;
        margin-left: -.25rem;
        box-shadow: none; }
        body.counsellorOpen #mymap #infoWindow-panel .container-btnEdit {
          display: none; }
        body.counsellorOpen #mymap #infoWindow-panel .icon-block {
          /* some browser support to show the map icons without having to turn on background images in print settings */
          -webkit-print-color-adjust: exact;
          color-adjust: exact; } }




</style>
<div id="map-outer">
<label id="lbl-pac-input-outer" for="pac-input-outer">Type in suburb or postcode</label>
<div id="place-loading-outer" class="hidden place-loading"></div>
<input id="pac-input-outer" type="text" placeholder="Type in suburb or postcode" autocomplete="false"><button class="btnSubmit" id="btnSearchSubmitOuter">Search</button>
<button class="btnLink" id="btnCurrentLocationOuter">Use my current location</button>
<label for="radMapView"><input name="fcView" id="radMapView" type="radio" value="mapView" checked>View map</label>
<label for="radTableView"><input name="fcView" id="radTableView" type="radio" value="tableView">View list</label>
</div>
<div class="map-container focused" id="mymap">
<button id="btnJumpSearchBox">Jump to financial counsellor search box</button>
<div id="map-msg"></div>
<div class="pac-card" id="pac-card">
<div id="pac-container">
<div id="place-loading" class="hidden place-loading"></div>
<input id="pac-input" type="text" placeholder="Type in suburb or postcode" autocomplete="false"><button class="btnSubmit" id="btnSearchSubmit">Search</button>
<div id="btnCurrentLocation-container"><button class="btnLink" id="btnCurrentLocation">Use my current location</button></div>
<div id="pac-link"><a href="#map-data">View search results as list</a></div>
<div id="pac-error">Location not found</div>
</div>
</div>
<div id="infoWindow-panel" class="location-details"></div>
<div id="btnNewCounsellor-container"><button id="btnNewCounsellor">Suggest a new counsellor</button></div>
<div id="map"></div>
</div>
<script>
    var MapSettings = {
        LOCAL_MODE : false,
        DEBUG : false,
        COUNSELLORS_API : "/_data/counsellor?details=true", // note: details=true loads all details on first load so no need for further API calls
        COUNSELLORS_API_DETAIL : "/_data/counsellor?details=true&id=", // note: currently not used as all details are stored on first load
        ANALYTICS : true,
        JIRA : true, // turn on JIRA when suggesting changes
        JIRA_API : "https://api.moneysmart.gov.au/Feedback/Create",
        SEARCH_MARKER_ANIMATION : "skyDrop", //drop / skyDrop (when search marker is dropped on the map, what effect to use)
        BILLY_BRAND : true, // show billy icons or plain icons
        BRAND_COLOUR : "#333",
        BRAND_COLOUR_CLUSTER : "#333",
        BRAND_COLOUR_HIGHLIGHT : "#1F1247",
        FULLPAGE : false,
        TEXT_VERSION : true, // whether to include a text version with the map results in an accordian list
        DATATABLE_LIMIT_ROWS : 20, // text version only
        DATATABLE_LIMIT_DISTANCE : 200, // text version only: show in data table if within this range
        COUNSELLOR_ID : "", // if set, will load this counsellor when map loads
        PRINT : true, // print version still in development, leave false for production,
        DISPLAY_FOCUS: true,
        DISPLAY_FOCUS_MOBILE: true, // also need to update CSS
        SETTINGS_STORAGE_NAME: "MSsettingsDataFCMap"
    };

    // polyfill for remove()
    // from:https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/remove()/remove().md
    (function (arr) {
        arr.forEach(function (item) {
            if (item.hasOwnProperty('remove')) {
                return;
            }
            Object.defineProperty(item, 'remove', {
                configurable: true,
                enumerable: true,
                writable: true,
                value: function remove() {
                    this.parentNode.removeChild(this);
                }
            });
        });
    })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);

    checkSettings();

    // TO FIX URL BAR 100vh for ANDROID phones
    // First we get the viewport height and we multiple it by 1% to get a value for a vh unit
    var vh = window.innerHeight * 0.01;
    // Then we set the value in the --vh custom property to the root of the document
    document.documentElement.style.setProperty('--vh', vh + "px");
    function updateHeight()
    {
        var vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', vh + "px");
    }
    window.onorientationchange = debounce(function() {
        updateHeight();
    },200);

    window.onresize = debounce(function(event){
        //don't update if android or ios
        updateHeight();
    },200);


    var url = location.href;

    var hashBang = window.location.hash;
    if ( hashBang.substring(0, 2) == "#!" ) { hashBang = decodeURI( hashBang.substring(2, hashBang.length) ) }
    else { hashBang = "" }
    if( hashBang )
    {
        clog("hashbang found " + hashBang);
        MapSettings.COUNSELLOR_ID = hashBang;
        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }
    }


    var params = url.substring(url.indexOf("?")+1);
    if(params.indexOf("brand=ndh") !== -1) {
        MapSettings.BILLY_BRAND = false;
    }

    // if in an iframe set map to fullpage mode
    if(window !== window.parent) {
        clog("code running in iframe");
        MapSettings.FULLPAGE = true;
    } else {
        clog("code NOT running in iframe");
    }
    // can override to fullpage mode
    if(params.indexOf("fs=true") !== -1) {
        MapSettings.FULLPAGE = true;
    }

    var mapDataNode = document.createElement("div");
    mapDataNode.id = "map-data";
    mapDataNode.classList.add("hide");
    mapDataNode.innerHTML = "<p>Type in a suburb or postcode to view the financial counsellors in that area</p>"
    if(MapSettings.BILLY_BRAND){
        document.getElementById("map").classList.add("brand-ms");
        if(MapSettings.TEXT_VERSION) {
            document.getElementById("map").parentNode.insertAdjacentElement('afterend', mapDataNode);
        }
        MapSettings.BRAND_COLOUR = "#1f1247";
        MapSettings.BRAND_COLOUR_CLUSTER = "#0047f5";

    }else{
        document.body.classList.add("brand-ndh");
        document.getElementById("map").classList.add("brand-ndh");
        if(MapSettings.TEXT_VERSION) {
            document.getElementById("map").parentNode.insertBefore(mapDataNode, document.getElementById("map").nextSibling);
        }
        MapSettings.BRAND_COLOUR = "#333";
        MapSettings.BRAND_COLOUR_CLUSTER = "#333";
    }

    if(MapSettings.FULLPAGE ){
        document.body.classList.add("fullpage");
    }

    if(MapSettings.LOCAL_MODE){
        MapSettings.COUNSELLORS_API = "counsellor-details.json";
        MapSettings.COUNSELLORS_API_DETAIL = "counsellor-details.json?id=";
    }

    var map;
    var markerCluster;
    var searchMarker;
    var locationMarker;
    var sortPoint;
    var lastZoom;
    var counsellor_data;
    var infoWindow;
    var panel;
    var btnNewCounsellorContainer;
    var fullscreenEvent;
    var autocomplete;
    var autocompleteOuter;
    var lastPlace;
    var lastPlaceName;


    document.getElementById('radMapView').addEventListener('change', function(event) {
        document.getElementById('mymap').classList.remove("hide");
        if(typeof document.getElementById('map-data') !== 'undefined' ) {
            document.getElementById('map-data').classList.add("hide");
        }
        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'changeView', 'map'); }
    });
    document.getElementById('radTableView').addEventListener('change', function(event) {
        document.getElementById('mymap').classList.add("hide");
        if(typeof document.getElementById('map-data') !== 'undefined' ) {
            document.getElementById('map-data').classList.remove("hide");
        }
        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'changeView', 'list'); }
    });

    // called once Google Maps API has loaded
    function initMap() {

        // calculate the distance between two points on a map, returns in metres
        google.maps.LatLng.prototype.distanceFrom = function(latlng) {
            var lat = [this.lat(), latlng.lat];
            var lng = [this.lng(), latlng.lng];
            var R = 6378137;
            var dLat = (lat[1]-lat[0]) * Math.PI / 180;
            var dLng = (lng[1]-lng[0]) * Math.PI / 180;
            var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat[0] * Math.PI / 180 ) * Math.cos(lat[1] * Math.PI / 180 ) *
                Math.sin(dLng/2) * Math.sin(dLng/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            var d = R * c;
            return Math.round(d);
        };

        // default to center of Australia, zoomed out
        var oz_center = {lat: -24.876, lng: 133.824};
        map = new google.maps.Map(document.getElementById('map'), {
            zoom: 5,
            center: oz_center,
            mapTypeControl: false,
            fullscreenControl: true,
            streetViewControl: false,
            clickableIcons: false
        });

        //initFullscreenControl(map);

        /* hide map features
        *  for list of featureTypes: https://developers.google.com/maps/documentation/javascript/style-reference
        */
        var styles = {
            default: null,
            hide: [
                {
                    featureType: 'poi',
                    stylers: [{visibility: 'off'}]
                }
            ]
        };
        map.setOptions({styles: styles['hide']});

        infoWindow = new google.maps.InfoWindow;

        // Try HTML5 geolocation and move from default with more zoom - moved to clickable link
        //useCurrentLocation();

        //get location data and create markers for each one
        document.getElementById("map-msg").style.display = "block";
        document.getElementById("map-msg").innerHTML = "Loading data...";
        clog("try fetch " + MapSettings.COUNSELLORS_API);
        fetch(MapSettings.COUNSELLORS_API)
        .then(
            function(response) {
                clog("in fetch");
                if (response.status !== 200) {
                    clog('There was a problem loading financial counsellors. Status Code: ' +response.status);
                    document.getElementById("map-msg").innerHTML = "There was a problem loading financial counsellors information, please try again later";
                    document.getElementById("map-msg").style.display = "block";
                    return false;
                }
                response.json().then(function(data) {
                    counsellor_data = data;
                    createMarkers(data);
                    if(MapSettings.TEXT_VERSION) {
                        // dataTableUpdate();
                    }
                    document.getElementById("map-msg").style.display = "none";
                    clog(data);
                });
            }
        )
        .catch(function(err) {
            clog(err);
            return false;
        });

        // Search box with autocomplete, placed in top right of screen
        var card = document.getElementById('pac-card');
        var input = document.getElementById('pac-input');
        var inputOuter = document.getElementById('pac-input-outer');
        map.controls[google.maps.ControlPosition.TOP_RIGHT].push(card);

        //fade the search box in - stops it from jumping around on first paint
        setTimeout(function() {
            clog("show card");
            card.style.opacity = "1";
        }, 1000);

        // Details panel in top left of screen
        panel = document.getElementById("infoWindow-panel");
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(panel);

        // Suggest new counsellor button
        btnNewCounsellorContainer = document.getElementById('btnNewCounsellor-container');
        map.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(btnNewCounsellorContainer);


        // add listener to detect when to update data table as the user moves around the map
        // this is now turned off - could be used by adding a button to say 'refresh results based on map location'
        /*
        google.maps.event.addListener(map, 'bounds_changed', debounce(function(event){
            renderDataTable();
        },1000));
        */


        // Restrict autocomplete to Australia
        autocomplete = new google.maps.places.Autocomplete(
            (input), {
                types: ['(regions)'],
                componentRestrictions: {
                    country: 'AU'
                }
            });
        // Specify only the data fields that are needed.
        autocomplete.setFields(
            ['address_components', 'geometry', 'icon', 'name']);


        autocompleteOuter = new google.maps.places.Autocomplete(
            (inputOuter), {
                types: ['(regions)'],
                componentRestrictions: {
                    country: 'AU'
                }
            });
        // Specify only the data fields that are needed.
        autocompleteOuter.setFields(
            ['address_components', 'geometry', 'icon', 'name']);

        // clear any error messages when user starts typing in field
        document.getElementById('pac-input').addEventListener('keyup', function(event) {
            if (event.keyCode !== 13) {
                document.getElementById('pac-error').style.display = "none";
            }
        });

        if( MapSettings.TEXT_VERSION) {
            document.getElementById('pac-input-outer').addEventListener('keyup', function (event) {
                if (this.value.length > 0) {
                    document.getElementById("lbl-pac-input-outer").classList.add("displayTop");
                    document.getElementById("lbl-pac-input-outer").classList.remove("lbl-no-location");
                    document.getElementById("lbl-pac-input-outer").innerText = "Type in suburb or postcode";
                } else {
                    document.getElementById("lbl-pac-input-outer").classList.remove("displayTop");
                }
            });

            document.getElementById('pac-input-outer').addEventListener('focus', function (event) {
                document.getElementById("lbl-pac-input-outer").classList.remove("lbl-no-location");
                document.getElementById("lbl-pac-input-outer").innerText = "Type in suburb or postcode";
                if (document.getElementById('pac-input-outer').getAttribute("autocomplete") === "off") {
                    document.getElementById('pac-input-outer').setAttribute("autocomplete", "nofill");
                }
            });

        }




        // stop browser autocomplete popup going over auto webpage autocomplete
        document.getElementById('pac-input').addEventListener('focus', function(event) {
            if (document.getElementById('pac-input').getAttribute("autocomplete") === "off") {
                document.getElementById('pac-input').setAttribute("autocomplete", "nofill");
            }
        });



        // allow autocomplete to be visible when in fullscreen mode (https://stackoverflow.com/questions/44850642/google-maps-autocomplete-dropdown-hidden-when-google-maps-full-screen-is-true)
        fullscreenEvent = 'fullscreenchange';
        if ( document.fullscreenEnabled ) {
            fullscreenEvent = 'fullscreenchange';
        }
        else if ( document.webkitFullscreenEnabled ) {
            fullscreenEvent = 'webkitfullscreenchange';
        }
        else if (document.mozFullScreenEnabled ) {
            fullscreenEvent = 'mozfullscreenchange';
        }
        else if (document.msFullscreenEnabled ) {
            fullscreenEvent = 'MSFullscreenChange';
        }
        document.addEventListener(fullscreenEvent, fullscreenHandler, false);

        var fullScreenMode = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen; // get whether fullscreen on first load
        function fullscreenHandler(event) {
            fullScreenMode = !fullScreenMode;
            var target = event.target;
            var pacContainerElements = document.getElementsByClassName("pac-container");
            if (pacContainerElements.length > 0) {
                var pacContainer = document.getElementsByClassName("pac-container")[0];
                if (fullScreenMode) {
                    // FULL SCREEN - move location chooser to inside full screen map
                    document.getElementById("map").firstChild.appendChild(pacContainer);
                    document.getElementById("map").classList.add("full-screen");
                    pacContainer.className += " fullscreen-pac-container";
                    //hide link to datatable
                    document.getElementById("pac-link").className = "hide-link";
                    if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'fullscreen', 'on'); }
                } else {
                    // NOT full screen
                    document.getElementsByTagName("body")[0].appendChild(pacContainer);
                    pacContainer.className += pacContainer.className.replace("fullscreen-pac-container", "");
                    document.getElementById("pac-link").className = "hide-link"; // ALWAYS HIDE THIS LINK NOW
                    document.getElementById("map").classList.remove("full-screen");
                    if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'fullscreen', 'off'); }
                }
            }
        }


        // place has been selected, try and find it on map
        autocomplete.addListener('place_changed', function() {
            searchAutoComplete(autocomplete, input);
            /*
            document.getElementById('pac-error').style.display = "none";
            clog(autocomplete.getPlace());
            var place = autocomplete.getPlace();

            if (!place.geometry) {
                // User entered the name of a Place that was not suggested and
                // pressed the Enter key, or the Place Details request failed.
                document.getElementById('pac-error').style.display = "block";
                if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'search', 'not found: ' + document.getElementById("pac-input").value); }
                return;
            }else {
                lastPlace = place;
                lastPlaceName = input.value;
                if(!document.body.classList.contains('distractionfree')){
                    focusMode();
                }
                if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'search', place.name); }
            }

            // If the place has a geometry, then present it on a map and zoom in. Make sure the closest marker is visible on the map
            var pos = {
                lat: place.geometry.location.lat(),
                lng: place.geometry.location.lng()
            };
            var closestMarker = getClosestMarker(pos);
            if(closestMarker) {
                var bounds = new google.maps.LatLngBounds();
                bounds.extend(place.geometry.location);
                bounds.extend(closestMarker.getPosition());
                map.fitBounds(bounds, 80);
                if (map.getZoom() > 14) {
                    map.setZoom(14);
                }
            } else {
                if (place.geometry.viewport) {
                    map.setCenter(place.geometry.location);
                    map.setZoom(14);
                }
            }

            sortPoint = pos;
            markerCluster.sort_point = place.geometry.location;

            if (typeof searchMarker !== 'undefined') {
                searchMarker.setMap(null);
            }

            // update search marker icon with custom
            var fc_searchInlineSvg = function (colour) {
                var encoded = window.btoa('<svg width="32" height="32" id="MS_Icons_RGB" data-name="MS Icons RGB" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:#fff;}.cls-1,.cls-2{stroke:' + colour + ';stroke-miterlimit:10;stroke-width:2px;}.cls-2{fill:none;}.cls-3{fill:' + colour + ';}</style></defs><path id="Path_100" data-name="Path 100" class="cls-1" d="M25.4,15.64a9.4,9.4,0,0,0-18.79,0c0,.12,0,.24,0,.36a9.41,9.41,0,0,0,18.82,0h0C25.41,15.88,25.4,15.76,25.4,15.64Z"/><line class="cls-2" x1="16" y1="2.17" x2="16" y2="6.16"/><line class="cls-2" x1="16" y1="25.4" x2="16" y2="29.83"/><line class="cls-2" x1="2.17" y1="16" x2="6.59" y2="16"/><line class="cls-2" x1="25.41" y1="16" x2="29.83" y2="16"/><circle class="cls-3" cx="16" cy="16" r="4.07"/></svg>');
                return ('data:image/svg+xml;base64,' + encoded);
            };

            if(MapSettings.SEARCH_MARKER_ANIMATION === 'skyDrop') {
                searchMarker = new google.maps.Marker({clickable: false, position: pos, map: map, title: 'Search box location', optimized:false, icon: {url: fc_searchInlineSvg(MapSettings.BRAND_COLOUR)}});
                var myoverlay = new google.maps.OverlayView();
                myoverlay.draw = function () {
                    this.getPanes().markerLayer.id='markerLayer';
                };
                myoverlay.setMap(map);
            }else {
                searchMarker = new google.maps.Marker({clickable: false, position: pos, map: map, animation: google.maps.Animation.DROP, title: 'Search box location', optimized:false, icon: {url: fc_searchInlineSvg(MapSettings.BRAND_COLOUR)}});
            }

            if(MapSettings.TEXT_VERSION) {
                dataTableUpdate();
            }

            //if searchMarker clicked
            google.maps.event.addListener(searchMarker, 'click', function() {
                // set map popup text
                infoWindow.setContent("<p>Search box location</p>");
                infoWindow.open(map, searchMarker);
                if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'searchMarker'); }
            });

            */

        });

        autocompleteOuter.addListener('place_changed', function() {
            searchAutoComplete(autocompleteOuter, inputOuter);
        });

        // focus on the input when 'Back to search box' link is clicked
        if(document.getElementById('btnJumpSearchBox') !== null) {
            document.getElementById('btnJumpSearchBox').addEventListener('click', function (event) {
                document.getElementById('pac-input').focus();
            });
        }

        // if search button pressed then focus on input and simulate enter press to return the first result
        document.getElementById('btnSearchSubmit').addEventListener('click', function (event) {
            searchButton(this, document.getElementById('pac-input'));
        });
        document.getElementById('btnSearchSubmitOuter').addEventListener('click', function (event) {
            searchButton(this, document.getElementById('pac-input-outer'));
        });


        if(MapSettings.PRINT) {
            window.addEventListener('afterprint', function (event) {
                document.body.classList.remove("counsellorOpen");
                if(MapSettings.FULLPAGE === false) {
                    scrollToTopMap();
                }
            });
        }



        document.getElementById('btnNewCounsellor').addEventListener('click', function (event) {
            // open infoWindow panel but in edit mode and blank

            // switch to focusMode
            if(!document.body.classList.contains('distractionfree')){
                focusMode();
            }

            // create object of input data
            var EmptyCounsellor = {
                ID: "",
                UmbracoNodeTitle: "",
                organisationName: "",
                outletName: "",
                address: "",
                city: "",
                postcode: "",
                state: "",
                phone: "",
                email: "",
                website: "",
                monday: "",
                tuesday: "",
                wednesday: "",
                thursday: "",
                friday: "",
                additionalDetails: "",
                relatedServicesOffered: "",
                catchmentArea: "",
                latitudeLongitude: ""
            };
            var cd = copyFrom(EmptyCounsellor);
            renderDetails(null, cd, true);

            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'Suggest a new counsellor'); }
        });

        document.getElementById('btnCurrentLocation').addEventListener('click', function (event) {
            // Try HTML5 geolocation and move from default with more zoom
            useCurrentLocation();
        });
        document.getElementById('btnCurrentLocationOuter').addEventListener('click', function (event) {
            // Try HTML5 geolocation and move from default with more zoom
            useCurrentLocation();
        });

        window.addEventListener('keydown', function(e){
            if((e.key=='Escape'||e.key=='Esc'||e.keyCode==27) && document.body.classList.contains("distractionfree")){
                document.getElementById("btnHeaderClose").click();
                e.preventDefault();
                return false;
            }
        }, true);




        // override map so if enter is pressed it will default to first value by simulating the down arrow first
        var selectFirstOnEnter = function(input){
            // store the original event binding function
            var _addEventListener = (input.addEventListener) ? input.addEventListener : input.attachEvent;

            // Simulate a 'down arrow' keypress on hitting 'return' when no pac suggestion is selected, and then trigger the original listener.
            var locationTries = 5;
            var locationIntervalId = 0;
            function addEventListenerWrapper(type, listener) {
                if (type === "keydown") {
                    var orig_listener = listener;
                    listener = function (event) {
                        //set slight interval to give suggestion a chance to populate
                        if (event.which == 13) {
                            var suggestion_found = document.getElementsByClassName('pac-item').length > 0;
                            clog("suggestions? " + suggestion_found);
                            locationTries = 5;
                            if (!suggestion_found) {
                                // Check if result is different from last successful returned, if not then just load that location again
                                if(lastPlaceName === input.value) {
                                    clog("stop popup timeout as value is the same");
                                    recallPreviousLocation();
                                } else {
                                    // no suggestion has been listed when they press enter, try and load and present a list - don't automatically choose first list item
                                    // present loading bar
                                    document.getElementById("place-loading").classList.remove("hidden");
                                    if (MapSettings.TEXT_VERSION) {
                                        document.getElementById("place-loading-outer").classList.remove("hidden");
                                    }

                                    locationIntervalId = setInterval(function () {
                                        suggestion_found = document.getElementsByClassName('pac-item').length > 0;
                                        clog("suggestion tries " + locationTries);
                                        locationTries--;
                                        if (suggestion_found) {
                                            var suggestion_selected = document.getElementsByClassName('pac-item-selected').length > 0;
                                            clearInterval(locationIntervalId);
                                            document.getElementById("place-loading").classList.add("hidden");
                                            if (MapSettings.TEXT_VERSION) {
                                                document.getElementById("place-loading-outer").classList.add("hidden");
                                            }
                                            clog("stop popup found");
                                        }
                                        else if (locationTries === 0) {
                                            clog("stop popup timeout");
                                            clearInterval(locationIntervalId);
                                            document.getElementById("place-loading").classList.add("hidden");
                                            if (MapSettings.TEXT_VERSION) {
                                                document.getElementById("place-loading-outer").classList.add("hidden");
                                                document.getElementById("lbl-pac-input-outer").classList.add("lbl-no-location");
                                                document.getElementById("lbl-pac-input-outer").innerText = "Location not found";
                                            }
                                            orig_listener.apply(input, [event]);
                                        }
                                    }, 1000);
                                }
                            } else {
                                clog("passed suggestion check");
                                var suggestion_selected = document.getElementsByClassName('pac-item-selected').length > 0;
                                if (event.which == 13 && !suggestion_selected) {
                                    // METHOD 1: Needed to support IE11
                                    var simulated_downarrow = document.createEvent('Event');
                                    simulated_downarrow.keyCode = 40; // Deprecated, prefer .key instead.
                                    simulated_downarrow.key = "keydown";
                                    simulated_downarrow.initEvent('keydown', false, false);
                                    orig_listener.apply(input, [simulated_downarrow]);
                                    orig_listener.apply(input, [event]);
                                    // METHOD 2: Preferred but won't work in IE11
                                    //var simulated_downarrow = new KeyboardEvent('keydown',{ keyCode:40 });
                                    //orig_listener.apply(input, [simulated_downarrow]);
                                } else {
                                    orig_listener.apply(input, [event]);
                                }
                            }
                        } else {
                            orig_listener.apply(input, [event]);
                        }



                    };
                }
                // add the modified listener
                _addEventListener.apply(input, [type, listener]);
            }
            if (input.addEventListener) {
                input.addEventListener = addEventListenerWrapper;
            } else if (input.attachEvent) {
                input.attachEvent = addEventListenerWrapper;
            }
        };
        selectFirstOnEnter(document.getElementById('pac-input'));
        selectFirstOnEnter(document.getElementById('pac-input-outer'));
    }

    function searchButton(btn, fromInput) {
        if(lastPlaceName === fromInput.value) {
            // if value hasn't changed since last search return to that location
            clog("recall previous location");
            recallPreviousLocation();
        }
        else {
            function noop() {
            }

            google.maps.event.trigger(fromInput, 'focus', {});
            google.maps.event.trigger(fromInput, 'keydown', {
                keyCode: 40, // arrow down
                stopPropagation: noop, // because these get called
                preventDefault: noop,
            });
            google.maps.event.trigger(fromInput, 'keydown', {keyCode: 13});  // enter
            google.maps.event.trigger(btn, 'focus', {});
        }
    }

    function searchAutoComplete(ac, fromInput) {
        document.getElementById('pac-error').style.display = "none";
        clog(ac.getPlace());
        var place = ac.getPlace();

        if (!place.geometry) {
            // User entered the name of a Place that was not suggested and
            // pressed the Enter key, or the Place Details request failed.
            if(fromInput.id === 'pac-input') {
                document.getElementById('pac-error').style.display = "block";
            }

            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'search', 'not found: ' + document.getElementById("pac-input").value); }
            return;
        }else {
            lastPlace = place;
            lastPlaceName = fromInput.value;
            if(MapSettings.TEXT_VERSION) {
                document.getElementById("pac-input-outer").value = lastPlaceName;
                document.getElementById("pac-input").value = lastPlaceName;
            }
            if(!document.body.classList.contains('distractionfree')){
                focusMode();
            }
            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'search', place.name); }
        }

        // If the place has a geometry, then present it on a map and zoom in. Make sure the closest marker is visible on the map
        var pos = {
            lat: place.geometry.location.lat(),
            lng: place.geometry.location.lng()
        };
        var closestMarker = getClosestMarker(pos);
        if(closestMarker) {
            var bounds = new google.maps.LatLngBounds();
            bounds.extend(place.geometry.location);
            bounds.extend(closestMarker.getPosition());
            map.fitBounds(bounds, 80);
            if (map.getZoom() > 14) {
                map.setZoom(14);
            }
        } else {
            if (place.geometry.viewport) {
                map.setCenter(place.geometry.location);
                map.setZoom(14);
            }
        }

        sortPoint = pos;
        markerCluster.sort_point = place.geometry.location;

        if (typeof searchMarker !== 'undefined') {
            searchMarker.setMap(null);
        }

        // update search marker icon with custom
        var fc_searchInlineSvg = function (colour) {
            var encoded = window.btoa('<svg width="32" height="32" id="MS_Icons_RGB" data-name="MS Icons RGB" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:#fff;}.cls-1,.cls-2{stroke:' + colour + ';stroke-miterlimit:10;stroke-width:2px;}.cls-2{fill:none;}.cls-3{fill:' + colour + ';}</style></defs><path id="Path_100" data-name="Path 100" class="cls-1" d="M25.4,15.64a9.4,9.4,0,0,0-18.79,0c0,.12,0,.24,0,.36a9.41,9.41,0,0,0,18.82,0h0C25.41,15.88,25.4,15.76,25.4,15.64Z"/><line class="cls-2" x1="16" y1="2.17" x2="16" y2="6.16"/><line class="cls-2" x1="16" y1="25.4" x2="16" y2="29.83"/><line class="cls-2" x1="2.17" y1="16" x2="6.59" y2="16"/><line class="cls-2" x1="25.41" y1="16" x2="29.83" y2="16"/><circle class="cls-3" cx="16" cy="16" r="4.07"/></svg>');
            return ('data:image/svg+xml;base64,' + encoded);
        };

        if(MapSettings.SEARCH_MARKER_ANIMATION === 'skyDrop') {
            searchMarker = new google.maps.Marker({clickable: false, position: pos, map: map, title: 'Search box location', optimized:false, icon: {url: fc_searchInlineSvg(MapSettings.BRAND_COLOUR)}});
            var myoverlay = new google.maps.OverlayView();
            myoverlay.draw = function () {
                this.getPanes().markerLayer.id='markerLayer';
            };
            myoverlay.setMap(map);
        }else {
            searchMarker = new google.maps.Marker({clickable: false, position: pos, map: map, animation: google.maps.Animation.DROP, title: 'Search box location', optimized:false, icon: {url: fc_searchInlineSvg(MapSettings.BRAND_COLOUR)}});
        }

        if(MapSettings.TEXT_VERSION) {
            dataTableUpdate();
        }

        //if searchMarker clicked
        google.maps.event.addListener(searchMarker, 'click', function() {
            // set map popup text
            infoWindow.setContent("<p>Search box location</p>");
            infoWindow.open(map, searchMarker);
            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'searchMarker'); }
        });
    }


    // Try HTML5 geolocation and move from default with more zoom
    function useCurrentLocation() {
        if (navigator.geolocation) {

            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'geolocation', 'on'); }

            navigator.geolocation.getCurrentPosition(function(position) {
                clog(position);
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
                map.setCenter(pos);
                map.setZoom(11);
                sortPoint = pos;

                // marker for Financial Counsellors
                var fc_locationInlineSvg = function (colour) {
                    var encoded = window.btoa('<svg width="40" height="40" id="MS_Icons_RGB" data-name="MS Icons RGB" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1,.cls-2{fill:' + colour + ';}.cls-1{opacity:0.3;}.cls-3{fill:#fff;}</style></defs><ellipse class="cls-1" cx="16.48" cy="28.2" rx="6.99" ry="0.92"/><path class="cls-2" d="M16.48,1.75a9,9,0,0,0-9,9,8.67,8.67,0,0,0,.23,2,8.67,8.67,0,0,0,.75,2.09h0l3.4,5.63L16.5,28.2l4.66-7.71,3.27-5.42h0a8.72,8.72,0,0,0,.86-2.3,9.26,9.26,0,0,0,.22-2A9,9,0,0,0,16.48,1.75Z"/><circle class="cls-3" cx="16.48" cy="10.55" r="4.43"/></svg>');
                    return ('data:image/svg+xml;base64,' + encoded);
                };

                if(typeof locationMarker !== 'undefined'){
                    // clear existing location marker
                    locationMarker.setMap(null);
                }

                locationMarker = new google.maps.Marker({position: pos, map: map, animation: google.maps.Animation.DROP, title: 'Current location', icon: {url: fc_locationInlineSvg(MapSettings.BRAND_COLOUR)}});


                if(MapSettings.TEXT_VERSION) {
                    dataTableUpdate();
                }

                if(!document.body.classList.contains('distractionfree')){
                    focusMode();
                }

                // clear search text boxes
                if(MapSettings.TEXT_VERSION) {
                    document.getElementById("pac-input-outer").value = "";
                }
                document.getElementById("pac-input").value = "";

                /* Use Geocoder to get address */
                /*
                var google_maps_geocoder = new google.maps.Geocoder();
                google_maps_geocoder.geocode(
                    { 'latLng': pos },
                    function( results, status ) {
                        if ( status == google.maps.GeocoderStatus.OK && results[0].address_components[2].long_name ) {
                            document.getElementById("pac-input").value = results[0].address_components[2].long_name  + ", " + results[0].address_components[4].long_name;
                            if(MapSettings.TEXT_VERSION) {
                                document.getElementById("pac-input-outer").value = results[0].address_components[2].long_name + ", " + results[0].address_components[4].long_name;
                            }
                        }
                    }
                );
                */

            }, function() {
                handleLocationError(true, infoWindow, map.getCenter());
            });
        } else {
            // Browser doesn't support Geolocation
            handleLocationError(false, infoWindow, map.getCenter());
        }
    }

    // Credit David Walsh (https://davidwalsh.name/javascript-debounce-function)
    // Returns a function, that, as long as it continues to be invoked, will not
    // be triggered. The function will be called after it stops being called for
    // N milliseconds. If `immediate` is passed, trigger the function on the
    // leading edge, instead of the trailing.

    // for map, this is used when moving around the map to determine when to update the datatable (if text mode is turned on)
    function debounce(func, wait, immediate) {
        var timeout;

        return function executedFunction() {
            var context = this;
            var args = arguments;

            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };

            var callNow = immediate && !timeout;

            clearTimeout(timeout);

            timeout = setTimeout(later, wait);

            if (callNow) func.apply(context, args);
        };
    };

    // give time for the map to set initial location before rendering (if text mode is turned on)
    var dataTableTries = 5;
    var dataTableIntervId = 0;
    function dataTableUpdate() {
        //dataTableIntervId = setInterval(renderDataTable, 1000);
        dataTableIntervId = setInterval(function () {
            clog("tries " + dataTableTries);
            dataTableTries--;
            if (typeof markerCluster !== 'undefined' && markerCluster.clusters_.length > 0 && typeof sortPoint !== 'undefined') {
                clog("markers found... render table");
                dataTableTries = 0;
                renderDataTable();
            }
            if(dataTableTries === 0) {
                clearInterval(dataTableIntervId);
            }
        }, 10);
    }


    // loop through all markers and return the closest
    function getClosestMarker(sortPoint) {
        var markers = markerCluster.markers_;
        var collection = [];
        var cnt = 0;

        // sort by distance and add dist property to object
        for (var i = 0; i < markers.length; i++) {
            markers[i].distance = markers[i].getPosition().distanceFrom(sortPoint);
            collection[cnt] = markers[i];
            cnt++;
        }
        collection.sort(compareDistance);
        if(collection.length > 0) {
            return collection[0];
        }else {
            return false;
        }
    }

    // get the previous location stored in global lastPlace and move map to there
    function recallPreviousLocation() {
        var pos = {
            lat: lastPlace.geometry.location.lat(),
            lng: lastPlace.geometry.location.lng()
        };
        var closestMarker = getClosestMarker(pos);
        if (closestMarker) {
            var bounds = new google.maps.LatLngBounds();
            bounds.extend(lastPlace.geometry.location);
            bounds.extend(closestMarker.getPosition());
            map.fitBounds(bounds, 80);
            if (map.getZoom() > 14) {
                map.setZoom(14);
            }
        } else {
            if (lastPlace.geometry.viewport) {
                map.setCenter(lastPlace.geometry.location);
                map.setZoom(14);
            }
        }
        sortPoint = pos;
        markerCluster.sort_point = lastPlace.geometry.location;
    }


    // if results exist on the map then create a data table to also display the results, this requires the user to do a search first or have location turned on to get a sortPoint
    // results are displayed using the Moneysmart accordian style, limit set in var MapSettings.DATATABLE_LIMIT_ROWS and only display if location within MapSettings.DATATABLE_LIMIT_DISTANCE
    function renderDataTable() {
        clog("renderDataTable");
        if (typeof markerCluster !== 'undefined' && markerCluster.clusters_.length > 0) {
            var html = '<div class="counsellors-container"><h4 id="counsellors">Financial counsellors search results closest to ' + (document.getElementById("pac-input-outer").value.length > 0 ? document.getElementById("pac-input-outer").value : "current location") + '</h4><p id="link-search-box-container"><a id="link-search-box" href="#pac-input">Back to search box</a></p></div>';
            clog("sortPoint: " + sortPoint);
            if (typeof sortPoint !== 'undefined') {
                var clusters = markerCluster.clusters_;
                var coll = [];
                var cnt = 0;

                // sort by distance and add dist property to object
                for (var i = 0; i < clusters.length; i++) {
                    for (var j = 0; j < clusters[i].markers_.length; j++) {
                        var marker = clusters[i].markers_[j];
                        var dist = marker.getPosition().distanceFrom(sortPoint);
                        marker.distance = dist;
                        if ((dist / 1000).toFixed(2) <= MapSettings.DATATABLE_LIMIT_DISTANCE) {
                            coll[cnt] = marker;
                            cnt++;
                        }
                    }
                }
                coll.sort(compareDistance);

                var rowsToGet = coll.length;
                if(coll.length > MapSettings.DATATABLE_LIMIT_ROWS) {
                    rowsToGet = MapSettings.DATATABLE_LIMIT_ROWS
                }

                for (var i = 0; i < rowsToGet; i++) {
                    if (i === 0) {
                        html += "<div class='accordian'>";
                    }
                    html += '<div class="newAccordianRow accordianRow closed" data-location="' + coll[i].myID + '">';
                    html += "<div class='accordianTitle'><h2>" + coll[i].title + " (" + (coll[i].distance / 1000).toFixed(2) + "km)</h2> <button class=\"accordianRowToggle\">toggle accordian row</button></div>";
                    html += '<div class="accordianRowContent"><p class="loading-dots">Loading details<span>.</span><span>.</span><span>.</span></p></div>';
                    html += "</div>";

                    if (i === clusters.length - 1) {
                        html += "</div>";
                    }
                }

                document.getElementById('map-data').innerHTML = html;
                // document.getElementById("pac-link").style.display = "block"; // ALWAYS HIDE THIS NOW
                moneysmartjs.accordianInit();
                if(MapSettings.BILLY_BRAND === false) {
                    accordianInit_fixScroll();
                }

                // add toggleDetails to newly created accordians
                var accordianTitles = document.querySelectorAll('.newAccordianRow');
                for (var i = 0; i < accordianTitles.length; i++) {
                    accordianTitles[i].addEventListener('click', function (event) {
                        //to stop double loading only toggle on the button listener
                        var src = event.target.tagName;
                        if(src.toLowerCase() === "button") {
                            toggleDetails(this);
                        }
                    });
                }

                // because of the fixed header make sure link goes to the right spot
                if(!MapSettings.FULLPAGE) {
                    var newLink = document.getElementById('link-search-box');
                    newLink.addEventListener('click', function (event) {
                        event.preventDefault();
                        window.location.hash = '#pac-input';
                        var targetAnchor = event.target.getAttribute('href');
                        var top = getCoords(document.getElementById("map")).top;
                        var rem = parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));
                        var headerHeight = document.querySelector('header').offsetHeight;
                        document.querySelector(targetAnchor).focus();
                        window.scroll(0, (top - headerHeight - 1 * rem));
                    });
                }

            }
        }else{
            document.getElementById("pac-link").style.display = "none";
        }
    }


    // sort object by distance
    function compareDistance( a, b ) {
        if ( a.distance < b.distance ){
            return -1;
        }
        if ( a.distance > b.distance ){
            return 1;
        }
        return 0;
    }


    // get coords of an element
    function getCoords(elem) {
        var box = elem.getBoundingClientRect();
        var body = document.body;
        var docEl = document.documentElement;
        var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;
        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;
        var clientTop = docEl.clientTop || body.clientTop || 0;
        var clientLeft = docEl.clientLeft || body.clientLeft || 0;
        var top  = box.top +  scrollTop - clientTop;
        var left = box.left + scrollLeft - clientLeft;
        return { top: Math.round(top), left: Math.round(left) };
    }


    // marker for Financial Counsellors
    var fc_markerInlineSvg = function (colour) {
        //var encoded = window.btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="' + colour + '" width="32px" height="32px"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"/></svg>');
        var encoded = window.btoa('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 997.52 839.57" width="40px" height="33.7px"><defs><style>.cls-1{fill:' + colour + ';}.cls-2{fill:#fff;}</style></defs><path class="cls-1" d="M637,709.29C947.23,700.71,983.8,560,993.75,374.54,995.39,100.51,1038.84,9.72,789,7.32,648.79,6,647.08,3.72,492.12,2.65,426.79,2.19,364.15,0,307,0,157.4,0,45.51,15,21.76,115.33A834.75,834.75,0,0,0,.1,302.79v.78C.17,449.19,41.05,599.18,165,653.43c165,72.2,265.18,14.24,265.18,186.14C430.16,839.57,495.59,713.2,637,709.29Z"/><path class="cls-2" d="M626.46,309.69s48.17,2.74,75.28-2.88,55.63.94,60.34,23.57S815.83,527,815.83,527l-92.6-4.52s-18.05-52.08-20.73-51.87c-3.3.25-8.88,52.89-8.88,52.89L469.7,527s8.5-219.83,24.56-218.11,34,1.41,62.27,2.5S626.46,309.69,626.46,309.69Z"/><path class="cls-1" d="M822.53,532.31l-102.92-5-1.1-3.19c-5-14.39-10.68-29.9-14.69-39.82-1.72,10.08-3.72,25.52-5.22,39.73l-.47,4.4L464.5,532.06l.21-5.27c0-.51,2-51.83,5.83-104.06,7.85-107.57,15.51-114.19,18.77-117a7.18,7.18,0,0,1,5.48-1.82c10.12,1.08,21.16,1.34,35.12,1.68,7.82.19,16.67.4,26.81.8,27.69,1.07,69-1.65,69.41-1.68l.31,0,.3,0c.48,0,47.84,2.63,74-2.79,14.89-3.08,29.52-2.6,41.19,1.36,13.62,4.62,22.53,13.88,25.07,26.09,4.62,22.21,53.17,194.53,53.66,196.27ZM495.33,314c-2.41,4-8.52,22.75-14.89,110.42-3,42-4.92,83.19-5.52,97.48l214.22-3.35c.56-5,1.57-13.58,2.73-22.1,3.68-26.81,5.39-30.48,10.26-30.85,4.26-.33,6.15,3.56,9.34,11,1.86,4.36,4.25,10.44,7.09,18.05,3.38,9.08,6.63,18.25,8.28,22.93l82.3,4c-9.17-32.59-47.73-170-51.95-190.25-4.06-19.49-30.46-24.66-54.44-19.69-26.59,5.51-71.71,3.24-76.27,3-3.88.25-43.2,2.71-70.14,1.67-10.07-.39-18.89-.6-26.67-.79C516.19,315.25,505.4,315,495.33,314Z"/><circle class="cls-2" cx="370.64" cy="211.5" r="74.08"/><circle class="cls-2" cx="617.28" cy="248.79" r="74.08"/><path class="cls-1" d="M617.28,327.87a79.08,79.08,0,1,1,79.08-79.08A79.17,79.17,0,0,1,617.28,327.87Zm0-148.16a69.08,69.08,0,1,0,69.08,69.08A69.16,69.16,0,0,0,617.28,179.71Z"/><path class="cls-2" d="M183.77,527a1.86,1.86,0,0,1-1.83-2.24c3.95-19.39,36.91-147.23,54.12-177.86,24.24-43.16,54.64-66.06,106.66-57.51,49,8.05,98.22-8.63,156.14,11.84,86.25,30.49,221.24,1.68,230,0,22.75-4.41,37.68,11.92,27.58,43.34-6.78,21.08-25.5,29.74-64.29,36.1s-55,8.4-104.75,11.81c-13.54.93-80.3,5.43-91.47,6.69a1.86,1.86,0,0,0-1.66,1.85v124.1a1.87,1.87,0,0,1-1.9,1.86l-195.54-3.78a1.87,1.87,0,0,1-1.81-1.58c-1.38-8.86-8.48-52.86-13.73-54-3.54-.76-14.7,48.74-16.73,57.93a1.86,1.86,0,0,1-1.83,1.46Z"/><path class="cls-1" d="M262.72,532h-79a6.86,6.86,0,0,1-6.73-8.24c4-19.46,36.87-147.64,54.66-179.31,13.58-24.17,27.8-40.07,44.74-50,18.83-11.05,40.78-14.31,67.09-10,19,3.13,38,2.44,58.1,1.71,31-1.13,63.11-2.29,98.9,10.36,76.09,26.9,192.22,6.84,226,.06l1.36-.27c12.24-2.38,22.7.49,29.43,8.09,8.18,9.21,9.55,24,3.87,41.68-8,25-31.11,33.42-68.24,39.51C654,392,637.58,394,587.73,397.43l-4.61.31c-17.61,1.2-68.69,4.68-83.86,6.08V525.08a6.86,6.86,0,0,1-6.86,6.86h-.14l-195.53-3.78a6.87,6.87,0,0,1-6.66-5.81c-3.12-20-6.27-34.91-8.67-43.3-3,9.77-7.48,27.29-12,47.56A6.82,6.82,0,0,1,262.72,532Zm-75.07-10h72.56c1.37-6.08,4.27-18.75,7.3-30.41,2-7.72,3.76-13.82,5.21-18.14,1.79-5.31,4-11.92,9.62-10.72,3.47.74,8.7,1.87,17.2,55.5l189.72,3.67V401a6.86,6.86,0,0,1,6.1-6.82c10.31-1.17,66.08-5,87.08-6.39l4.61-.32c49.43-3.38,65.73-5.42,104.28-11.75,39.32-6.45,54.55-14.7,60.34-32.7,4.55-14.17,3.9-25.53-1.83-32-4.29-4.84-11.41-6.58-20-4.91l-1.3.26c-21.29,4.28-74.76,13.72-131,13.73-34.65,0-70.36-3.59-100.28-14.16-34-12-65.12-10.89-95.21-9.8-20.62.75-40.09,1.45-60.08-1.83-45.29-7.44-75.64,9-101.49,55C224.68,377.34,194.34,492.26,187.65,522Z"/></svg>');
        if (MapSettings.BILLY_BRAND) {
            //encoded = window.btoa('<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><defs><style>.cls-1{isolation:isolate;}.cls-2{opacity:0.2;mix-blend-mode:multiply;}.cls-3{fill:' + colour + ';}.cls-4{fill:#fff;}</style></defs><g class="cls-1"><g id="MS_Icons_RGB" data-name="MS Icons RGB"><path id="Path_124-2" data-name="Path 124-2" class="cls-3" d="M20.19,24.94c9.4-.26,10.51-4.53,10.81-10.15,0-2.2.12-4,.12-5.48v0c0-4.07-.77-5.57-6.33-5.62-4.25,0-4.3-.11-9-.14-2,0-3.88-.08-5.62-.08-4.53,0-7.92.45-8.64,3.5a25.78,25.78,0,0,0-.66,5.68v0c0,4.42,1.24,9,5,10.61,5,2.19,8,.43,8,5.64A7.74,7.74,0,0,1,20.19,24.94Z"/><g id="Group_27" data-name="Group 27"><path id="Path_125" data-name="Path 125" class="cls-4" d="M19,18.41a5.51,5.51,0,0,1-1.11.68l-.62.33.06.32A1.1,1.1,0,0,1,17.09,21l-.14,0h0l-.16-.1a2.63,2.63,0,0,1-.3-1.38v-.24a2.68,2.68,0,0,1-1.94-1.5,1.9,1.9,0,0,1-.3-1.41l.16-.15.22.08a6.76,6.76,0,0,1,.46.72c.37.63.7,1.19,1.46,1.37V16.13c0-.41,0-.81,0-1.22l0-.4a5.9,5.9,0,0,0,0-.73,1.19,1.19,0,0,0-.53-1,2.56,2.56,0,0,1-1.3-2.3,2.64,2.64,0,0,1,1.64-2.36l.09-1.69.14-.17.23.06a1.4,1.4,0,0,1,.38,1.1,1.33,1.33,0,0,0,0,.4,3.17,3.17,0,0,0,.53.05,1.49,1.49,0,0,1,1.5.69l0,.2-.2.07-.11,0-1.55-.25,0,.09L17.28,9c0,.39,0,.78,0,1.18,0,.62,0,1.25,0,1.88a1.28,1.28,0,0,0,.49,1.13,5.68,5.68,0,0,1,1.73,2.5A2.31,2.31,0,0,1,19,18.42Z"/><path id="Path_126" data-name="Path 126" class="cls-3" d="M16.34,11.89a12,12,0,0,0,0-2.68,1.53,1.53,0,0,0-.62,1,2.26,2.26,0,0,0,.65,1.67Z"/><path id="Path_127" data-name="Path 127" class="cls-3" d="M17.63,18.39a1.52,1.52,0,0,0,1.17-2.05,4.71,4.71,0,0,0-1.17-2.17Z"/></g></g></g></svg>');
        }
        return ('data:image/svg+xml;base64,' + encoded);
    };
    var fc_marker = function (colour) {
        return({
            url: fc_markerInlineSvg(colour),
            scaledSize: new google.maps.Size(40, 33.7),
            anchor: new google.maps.Point(15, 40)});
    };

    // take a json dataset and add markers to the map using clustering
    function createMarkers(json) {
        // create cluster image SVG in given colour
        var getGoogleClusterInlineSvg = function (colour) {
            var encoded = window.btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><defs><style>.cls-1,.cls-3,.cls-4,.cls-5{isolation:isolate;}.cls-2,.cls-3,.cls-4,.cls-5{fill:' + colour + ';}.cls-3{opacity:0.2;}.cls-4{opacity:0.4;}.cls-5{opacity:0.7;}.cls-6{opacity:0.2;mix-blend-mode:multiply;}</style></defs><g class="cls-1"><g id="MS_Icons_RGB" data-name="MS Icons RGB"><path id="Path_100" data-name="Path 100" class="cls-2" d="M24.24,16.32a8.24,8.24,0,0,0-16.47,0c0,.11,0,.21,0,.32a8.24,8.24,0,0,0,16.48,0h0Z"/><path id="Path_101" data-name="Path 101" class="cls-3" d="M.51,17.34a14.77,14.77,0,0,0,8.57,13.4l1.2-2.45a12,12,0,0,1-7-10.95V17L.52,17C.52,17.13.51,17.23.51,17.34Z"/><path id="Path_102" data-name="Path 102" class="cls-4" d="M3.49,17v.11A12,12,0,0,0,10.43,28l.92-1.89a9.94,9.94,0,0,1-5.77-9,.66.66,0,0,1,0-.14Z"/><path id="Path_103" data-name="Path 103" class="cls-5" d="M11.48,25.84l.75-1.54a8.21,8.21,0,0,1-4.7-7.37L5.81,17A10,10,0,0,0,11.48,25.84Z"/><path id="Path_104" data-name="Path 104" class="cls-3" d="M28.74,16.92c0,.14,0,.28,0,.42a12.05,12.05,0,0,1-7,11l1.16,2.48a14.8,14.8,0,0,0,8.63-13.44c0-.17,0-.33,0-.49Z"/><path id="Path_105" data-name="Path 105" class="cls-4" d="M26.43,17.1a10,10,0,0,1-5.76,9l.89,1.9a12,12,0,0,0,7-10.92v-.17l-2.1.05S26.43,17.06,26.43,17.1Z"/><path id="Path_106" data-name="Path 106" class="cls-5" d="M19.81,24.28l.73,1.55A10,10,0,0,0,26.19,17L24.47,17A8.2,8.2,0,0,1,19.81,24.28Z"/><path id="Path_107" data-name="Path 107" class="cls-3" d="M16,.44A14.71,14.71,0,0,0,6.72,3.73L8.38,5.9a12,12,0,0,1,15.25,0l1.7-2.15A14.81,14.81,0,0,0,16,.44Z"/><path id="Path_108" data-name="Path 108" class="cls-4" d="M8.49,6.28,9.76,7.94a9.93,9.93,0,0,1,12.46,0l1.3-1.65a12,12,0,0,0-15,0Z"/><path id="Path_109" data-name="Path 109" class="cls-5" d="M9.88,8.33l1,1.36A8.21,8.21,0,0,1,21,9.65L22.1,8.31a9.91,9.91,0,0,0-12.23,0Z"/></g></g></svg>');
            return ('data:image/svg+xml;base64,' + encoded);
        };

        var cluster_styles = [
            {
                width: 40,
                height: 40,
                url: getGoogleClusterInlineSvg(MapSettings.BRAND_COLOUR_CLUSTER),
                textColor: 'white',
                textSize: 11
            }
            // can have up to 5 clusters depending how zoomed out the map is, in order of most zoomed in first
            /*
            ,{
                width: 60,
                height: 60,
                url: getGoogleClusterInlineSvg('#D84847'),
                textColor: 'white',
                textSize: 13
            }
            */
        ];
        markerCluster = new MarkerClusterer(map, {}, {
            maxZoom: 13,
            styles: cluster_styles
        });

        google.maps.event.addListener(markerCluster, 'clusterclick', function(cluster) {
            // switch to focusMode
            if(!document.body.classList.contains('distractionfree')){
                focusMode();
            }
        });

        if (json.constructor === Array) {
            var count;
            for (count = 0; count < json.length; count++) {
                // create marker
                var latLng = json[count].latitudeLongitude;
                latLng = latLng.split(",");

                //marker uses custom icon
                var marker = new google.maps.Marker({
                    position: {lat: Number(latLng[0]), lng: Number(latLng[1])},
                    map: map,
                    title: json[count].organisationName,
                    myID: json[count].ID,
                    optimized: true,
                    icon: fc_marker(MapSettings.BRAND_COLOUR_CLUSTER)
                });
                markerCluster.addMarker(marker);

                //if marker hovered
                google.maps.event.addListener(marker, 'mouseover', (function (marker, count) {
                    return function () {
                        infoWindow.setContent(renderInfoWindow(counsellor_data[count]));
                        infoWindow.open(map, marker);
                    }
                })(marker, count));

                google.maps.event.addListener(marker,'mouseout',function(){
                    if (panel.classList.contains("open") === false) {
                        infoWindow.close();
                    }
                });

                //if marker clicked
                google.maps.event.addListener(marker, 'click', (function (marker, count) {
                    return function () {
                        // switch to focusMode
                        if(!document.body.classList.contains('distractionfree')){
                            focusMode();
                        }

                        // call api to get extra details
                        clog("id selected: " + counsellor_data[count].ID);
                        //showDetails can now be skipped and go straight to renderDetails because all data passed in on first load
                        //showDetails(marker, counsellor_data[count].ID);
                        if(typeof infoWindow.marker !== 'undefined' ) {
                            infoWindow.marker.setIcon(fc_marker(MapSettings.BRAND_COLOUR_CLUSTER));
                        }
                        lastZoom = map.getZoom();
                        marker.optimized = false; // set this to stop the zoom animation have a jump effect


                        map.setCenter(marker.getPosition()); //center marker on map when clicked and zoom in
                        if(lastZoom < 17) {
                            map.setZoom(17);
                        }
                        // adjust the center to take into account the infoWindow (use infoWindow /2 )
                        map.panBy(getCenterPoint(), 0);
                        infoWindow.marker = marker;
                        renderDetails(marker, counsellor_data[count], true);
                        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'counsellorMarker: ' + counsellor_data[count].ID); }
                    }
                })(marker, count));

                google.maps.event.addListener(infoWindow,'closeclick',function(){
                    if (panel.classList.contains("open")) {
                        panel.classList.remove("open");
                        window.location.hash = "!";
                        infoWindow.marker.setIcon(fc_marker(MapSettings.BRAND_COLOUR_CLUSTER));
                        map.setZoom(lastZoom);
                    }
                });
            }

            // if id in URL, load that counsellor
            if(MapSettings.COUNSELLOR_ID !== "") {
                // find marker on map
                clog("find counsellor in url: " + MapSettings.COUNSELLOR_ID);
                var marker = findMarker(MapSettings.COUNSELLOR_ID);
                if (marker) {
                    document.getElementById("mymap").classList.add("load-counsellor");
                    clog("Found counsellor");
                    clog(marker);
                    // if found, load
                    // switch to focusMode
                    if(!document.body.classList.contains('distractionfree')){
                        focusMode();
                    }
                    map.setCenter(marker.position);
                    lastZoom = map.getZoom();
                    map.setZoom(14);
                    // adjust the center to take into account the infoWindow
                    map.panBy(getCenterPoint(), 0);
                    infoWindow.setContent("<p>" + marker.title + "</p>");
                    infoWindow.open(map, marker);
                    var id = -1;
                    for(var i=0; i < counsellor_data.length; i++){
                        if(Number(counsellor_data[i].ID) === Number(MapSettings.COUNSELLOR_ID) ){
                            id = i;
                            break;
                        }
                    }
                    if(id !== -1) {
                        renderDetails(marker, counsellor_data[id], true);
                        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Hashbang', 'counsellorMarker: ' + MapSettings.COUNSELLOR_ID); }
                    }

                }
            }
        }
    }

    // rather than get true center on the map, get center based on the infoWindowWidth. This stops the marker appearing behind the infoWindow
    function getCenterPoint() {
        var mapWidth = document.getElementById("map").offsetWidth;
        var infoWindowWidth = 426;
        if(mapWidth >= infoWindowWidth) {
            return (infoWindowWidth/2) * -1;
        } else {
            return 0;
        }
    }

    // call details API to get extra data for a counsellor. Note: currently not used as replaced with loading all data at runtime
    function showDetails(marker, id) {
        fetch(MapSettings.COUNSELLORS_API_DETAIL + id)
        .then(
            function(response) {
                if (response.status !== 200) {
                    clog('There was a problem loading financial counsellors details. Status Code: ' +response.status);
                    document.getElementById("map-msg").innerHTML = "There was a problem loading financial counsellors details, please try again later";
                    document.getElementById("map-msg").style.display = "block";
                    return false;
                }
                response.json().then(function(data) {
                    clog(data[0]);
                    if(data.length > 0) {
                        renderDetails(marker, data[0], true);
                    }
                });
            }
        )
        .catch(function(err) {
            clog(err);
            return false;
        });
    }

    function scrollToTopMap(stopScroll) {
        // Scroll infobox to top of screen (if not in iframe)
        var top = getCoords(document.getElementById("mymap")).top;
        if(top > 0) {
            var rem = parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));
            var headerHeight = document.querySelector('header').offsetHeight;

            if(stopScroll) {document.documentElement.style.scrollBehavior = "unset";}
            window.scroll(0, (top - headerHeight - 1 * rem));
            if(stopScroll) {document.documentElement.style.scrollBehavior = "smooth";}
            document.getElementById("infoWindow-panel").scrollTop = 0;
        }
    }

    function scrollToExternal() {
        // Scroll outside map to previous h3 (if not in iframe)
        var top = getCoords(document.getElementById("mymap")).top;
        if(top > 0) {
            var mymap = document.getElementById("mymap");
            var prevH2 = getPreviousSibling(mymap, 'h2');
            if(typeof prevH2 !== 'undefined') {
                var rem = parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));
                var headerHeight = document.querySelector('header').offsetHeight;
                var topH2 = getCoords(prevH2).top;
                document.documentElement.style.scrollBehavior = "unset";
                window.scroll(0, (topH2 - headerHeight - 1 * rem));
                document.documentElement.style.scrollBehavior = "smooth";
            } else {
                var rem = parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));
                var headerHeight = document.querySelector('header').offsetHeight;
                var topMapOuter = getCoords("map-outer").top;
                document.documentElement.style.scrollBehavior = "unset";
                window.scroll(0, (topMapOuter - headerHeight - 1 * rem));
                document.documentElement.style.scrollBehavior = "smooth";
            }
        }
    }

    var getPreviousSibling = function (elem, selector) {

        // Get the next sibling element
        var sibling = elem.previousElementSibling;

        // If there's no selector, return the first sibling
        if (!selector) return sibling;

        // If the sibling matches our selector, use it
        // If not, jump to the next sibling and continue the loop
        while (sibling) {
            if (sibling.matches(selector)) return sibling;
            sibling = sibling.previousElementSibling;
        }

    };

    function renderInfoWindow(cd) {
        var html = "<p><strong>" + cd.organisationName + "</strong></p>";
        html += '<p class="icon-block address"><span>' + (cd.address.length ? cd.address + ', ' : '') + cd.city + '</span></p>';
        html += '<p class="icon-block phone' + (cd.phone.length ? '' : ' empty') + '"><span>' + cd.phone + '</span></p>';
        return html;
    }

    //  load details of a financial counsellor for map
    function renderDetails(marker, cd, placeOnMap){
        // set map popup text
        if(marker !== null) {
            infoWindow.setContent(renderInfoWindow(cd));
            infoWindow.open(map, marker);
            marker.setIcon(fc_marker(MapSettings.BRAND_COLOUR_HIGHLIGHT)); // highlight currently selected counsellor
        }

        var html = '';
        html += createDetailsHTML(cd, placeOnMap);
        panel.innerHTML = html;
        panel.classList.remove("new");
        if (panel.classList.contains("edit-mode")) {
            panel.classList.remove("edit-mode");
        }
        btnNewCounsellorContainer.classList.add("hide");
        if(cd.ID === '') {
            // if ID is empty then jump straight to create new counsellor mode
            panel.classList.add("edit-mode");
            panel.classList.add("new");
        }

        if(MapSettings.FULLPAGE === false) {
            scrollToTopMap();
        }

        // Set button listeners
        // close button
        document.getElementById('btnCloseInfowindow').addEventListener('click', function (event) {
            panel.classList.remove("open");
            btnNewCounsellorContainer.classList.remove("hide");
            window.location.hash = "!";
            if(cd.ID !== '') {
                marker.setIcon(fc_marker(MapSettings.BRAND_COLOUR_CLUSTER));
                infoWindow.close();
                map.setZoom(lastZoom);
            }
        });

        var buttons = panel.getElementsByTagName("button");
        for (var i = 0; i < buttons.length; i++) {
            buttons[i].addEventListener('click', function (event) {
                event.stopPropagation();
                if (this.dataset.action === "close") {
                    btnNewCounsellorContainer.classList.remove("hide");
                    panel.classList.remove("open");
                    window.location.hash = "!";
                    if(cd.ID !== '') {
                        marker.setIcon(fc_marker(MapSettings.BRAND_COLOUR_CLUSTER));
                        infoWindow.close();
                        map.setZoom(lastZoom);
                    }
                }
                else if (this.dataset.action === "edit") {
                    panel.classList.add("edit-mode");
                    var msgSubmit = panel.getElementsByClassName('msg-submit');
                    if(msgSubmit.length > 0) {
                        msgSubmit[0].style.display = "none";
                    }

                    //fixes Chrome bug from scrolling down page
                    if(MapSettings.FULLPAGE === false) {
                        panel.style.position = "static";

                        setTimeout(function () {
                            panel.style.position = "absolute";
                            scrollToTopMap();
                        }, 100);
                    }

                }
                else if (this.dataset.action === "review") {
                    if(requiredFieldsOK()) {
                        document.getElementById("infoWindow-page2-changes").innerHTML = getEditChanges(panel, cd, false);
                        document.getElementById("infoWindow-page1").classList.add("hidden");
                        document.getElementById("infoWindow-page2").classList.remove("hidden");
                        //fixes Chrome bug from scrolling down page
                        if (MapSettings.FULLPAGE === false) {
                            panel.style.position = "static";
                            setTimeout(function () {
                                panel.style.position = "absolute";
                                scrollToTopMap();
                            }, 100);
                        }
                    }
                }
                else if (this.dataset.action === "keep") {
                    document.getElementById("infoWindow-page2").classList.add("hidden");
                    document.getElementById("infoWindow-page1").classList.remove("hidden");
                    if(document.getElementById("edit-contactCommentsMsg") !== null) {
                        document.getElementById("edit-contactCommentsMsg").remove();
                    }
                    //fixes Chrome bug from scrolling down page
                    if(MapSettings.FULLPAGE === false) {
                        panel.style.position = "static";
                        setTimeout(function () {
                            panel.style.position = "absolute";
                            scrollToTopMap();
                        }, 100);
                    }
                }
                else if (this.dataset.action === "submit") {
                    if(submitEdit(panel,cd)) {
                        panel.classList.remove("edit-mode");
                        document.getElementById("infoWindow-page2").classList.add("hidden");
                        document.getElementById("infoWindow-page1").classList.remove("hidden");

                        //fixes Chrome bug from scrolling down page
                        if(MapSettings.FULLPAGE === false) {
                            panel.style.position = "static";
                            setTimeout(function () {
                                panel.style.position = "absolute";
                                scrollToTopMap();
                            }, 100);
                        }
                    }

                }
                else if (this.dataset.action === "cancel") {
                    if(cd.ID === '') {
                        panel.classList.remove("open");
                        btnNewCounsellorContainer.classList.remove("hide");

                    } else {
                        panel.classList.remove("edit-mode");

                        //fixes Chrome bug from scrolling down page
                        if(MapSettings.FULLPAGE === false) {
                            panel.style.position = "static";
                            setTimeout(function () {
                                panel.style.position = "absolute";
                                scrollToTopMap();
                            }, 100);
                        }
                    }
                }
                else if (this.dataset.action === "cancelSubmit") {
                    if(cd.ID === '') {
                        panel.classList.remove("open");
                        btnNewCounsellorContainer.classList.remove("hide");
                    } else {
                        panel.classList.remove("edit-mode");
                        if (document.getElementById("edit-contactEmailMsg") !== null) {
                            document.getElementById("edit-contactEmailMsg").remove();
                        }
                        if (document.getElementById("edit-contactCommentsMsg") !== null) {
                            document.getElementById("edit-contactCommentsMsg").remove();
                        }
                        document.getElementById("infoWindow-page2").classList.add("hidden");
                        document.getElementById("infoWindow-page1").classList.remove("hidden");
                        //fixes Chrome bug from scrolling down page
                        if (MapSettings.FULLPAGE === false) {
                            panel.style.position = "static";
                            setTimeout(function () {
                                panel.style.position = "absolute";
                                scrollToTopMap();
                            }, 100);
                        }
                    }
                }
                if(MapSettings.ANALYTICS && typeof this.dataset.action !== 'undefined') { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'infoWindow: ' + this.dataset.action); }
            });
        }

        if(MapSettings.PRINT && cd.ID !== '') {
            document.getElementById('infoWindow-print' + cd.ID).addEventListener('click', function (event) {
                printCounsellor(cd);
                /*
                document.body.classList.add("counsellorOpen");

                if ( document.getElementById("print_map") !== null) {
                    document.getElementById('print_map').innerHTML = document.getElementById("infoWindow-page1").innerHTML;
                } else {
                    var newNode = document.createElement("div");
                    newNode.innerHTML = document.getElementById("infoWindow-page1").innerHTML;
                    newNode.id = "print_map";
                    newNode.classList.add("location-details");
                    newNode.classList.add("open");
                    document.body.appendChild(newNode);
                }


                // If pressing print center marker on the map and pan down slowly to show it better on a page
                map.setCenter(marker.position);
                map.panBy(0, -230);

                // give time for the pan to complete before printing
                setTimeout(function () {
                    window.print();
                }, 500);
                if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'Print: ' + cd.ID); }
                */
            });
        }


        // check if required fields have text
        var requiredFields = document.getElementById("map").querySelectorAll('.requiredField');
        if (requiredFields.length > 0) {
            for (var i = 0; i < requiredFields.length; i++) {

                requiredFields[i].addEventListener('input', function (event) {
                    if(this.value.length > 0){
                        this.classList.remove("emptyField");

                        // clear existing
                        var nextElement =this.nextSibling;
                        if (nextElement !== null && typeof nextElement.classList !== 'undefined' && nextElement.classList.contains("inputMsg")) {
                            nextElement.remove();
                        }

                    }else {
                        this.classList.add("emptyField");
                    }
                });
            }
        }
        panel.classList.add("open");
        if(cd.ID !== null) {
            window.location.hash = "!" + cd.ID;
        }

    }

    // use event listeners for android, otherwise print stylesheet not picked up
    if(navigator.userAgent.toLowerCase().indexOf("android") > -1) {
        window.addEventListener("beforeprint", function (event) {
            if( document.getElementById("infoWindow-panel").classList.contains("open") ) {
                document.body.classList.add("counsellorOpen");
            }
        });
        window.addEventListener("afterprint", function (event) {
            if( document.getElementById("infoWindow-panel").classList.contains("open") ) {
                document.body.classList.remove("counsellorOpen");
            }
        });
    }

    function printCounsellor(cd) {
        document.body.classList.add("counsellorOpen");

        if ( document.getElementById("print_map") !== null) {
            document.getElementById('print_map').innerHTML = document.getElementById("infoWindow-page1").innerHTML;
        } else {
            var newNode = document.createElement("div");
            newNode.innerHTML = document.getElementById("infoWindow-page1").innerHTML;
            newNode.id = "print_map";
            newNode.classList.add("location-details");
            newNode.classList.add("open");
            document.body.appendChild(newNode);
        }


        // If pressing print center marker on the map and pan down slowly to show it better on a page (not needed as no longer printing map as well)
        //map.setCenter(marker.position);
        //map.panBy(0, -230);

        // give time for the pan to complete before printing
        setTimeout(function () {
            window.print();
        }, 500);
        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'Print: ' + cd.ID); }
    }

    // load details of a financial counsellor if not already loaded in accordian (text mode)
    function toggleDetails(el){
        var block = el.getElementsByClassName('accordianRowContent');
        if(block[0].classList.contains('location-details') === false) {
            clog("get content for " + el.dataset.location);

            //find counsellor in counsellor_data by matching el.dataset.location and store in var cd
            var cd = '';
            for (var i=0; i < counsellor_data.length; i++) {
                if (counsellor_data[i].ID.toString() === el.dataset.location.toString()) {
                    cd = counsellor_data[i];
                    clog("found...");
                    clog(cd);
                    break;
                }
            }
            var html = '';
            if(cd != '') {
                html = '<div class="location-details details-full-width">';
                html += createDetailsHTML(cd, false);
                html += '</div>';
            }

            block[0].innerHTML = html;
            if(html !== ''){
                var locationDetails;
                var buttons = block[0].getElementsByTagName("button");
                for (var i = 0; i < buttons.length; i++) {
                    buttons[i].addEventListener('click', function (event) {
                        event.stopPropagation();
                        if (this.dataset.action === "edit") {
                            if (block[0].getElementsByClassName("location-details").length > 0) {
                                locationDetails = block[0].getElementsByClassName("location-details")[0];
                                locationDetails.classList.add("edit-mode");
                            }
                        }
                        else if (this.dataset.action === "submit") {
                            if(submitEdit(block[0],cd)) {
                                if (block[0].getElementsByClassName("location-details").length > 0) {
                                    locationDetails = block[0].getElementsByClassName("location-details")[0];
                                    locationDetails.classList.remove("edit-mode");
                                }
                            }
                        }
                        else if (this.dataset.action === "cancel") {
                            if (block[0].getElementsByClassName("location-details").length > 0) {
                                locationDetails = block[0].getElementsByClassName("location-details")[0];
                                locationDetails.classList.remove("edit-mode");
                                if(document.getElementById("edit-contactEmailMsg") !== null) {
                                    document.getElementById("edit-contactEmailMsg").remove();
                                }
                                if(document.getElementById("edit-contactCommentsMsg") !== null) {
                                    document.getElementById("edit-contactCommentsMsg").remove();
                                }
                            }
                        }
                        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'infoWindow: ' + this.dataset.action); }
                    });
                }

                // Handle when view on map link is clicked, zoom map to location
                var mapLinks = document.querySelectorAll('.link-view-map');
                for (var i = 0; i < mapLinks.length; i++) {
                    mapLinks[i].addEventListener('click', function (event) {
                        var marker = findMarker(this.dataset.location);
                        if (marker) {
                            map.setCenter(marker.position);
                            map.setZoom(16);
                            infoWindow.setContent("<p>" + marker.title + "</p>");
                            infoWindow.open(map, marker);
                            //TODO: Optional, if you want to popup details when going to marker uncomment below line
                            //showDetails(marker, this.dataset.location);
                        }

                        // scroll screen back to map
                        scrollToExternal();
                        document.getElementById("radMapView").click();
                        /*
                        event.preventDefault();
                        window.location.hash = '#pac-input';
                        var targetAnchor = event.target.getAttribute('href');
                        var top = getCoords(document.getElementById("map")).top;
                        var rem = parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));
                        var headerHeight = document.querySelector('header').offsetHeight;
                        window.scroll(0,(top-headerHeight-1*rem));

                        */
                    });
                }

                if(MapSettings.PRINT) {
                    // TODO: Need to make text version have unique ID's to make this work
                    /*
                    document.getElementById('infoWindow-print' + cd.ID).addEventListener('click', function (event) {
                        printCounsellor(cd);
                    });
                    */
                }
            }
        }
        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Click', 'counsellorAccordion: ' + el.dataset.location.toString()) }
    }

    // use this function if want to load details as separate API request into Accordion (text version only)
    function toggleDetailsV1(el){
        var block = el.getElementsByClassName('accordianRowContent');
        if(block[0].classList.contains('location-details') === false) {
            clog("get content for " + el.dataset.location);
            fetch(MapSettings.COUNSELLORS_API_DETAIL + el.dataset.location)
                .then(
                    function(response) {
                        if (response.status !== 200) {
                            clog('There was a problem loading financial counsellors details. Status Code: ' +response.status);
                            //document.getElementById("map-msg").innerHTML = "There was a problem loading financial counsellors details, please try again later";
                            //document.getElementById("map-msg").style.display = "block";
                            return false;
                        }
                        response.json().then(function(cd) {
                            var html = '';
                            if(cd.length > 0) {
                                cd = cd[0];
                                html = '<div class="location-details details-full-width">';
                                html += createDetailsHTML(cd, false);
                                html += '</div>';
                            }

                            block[0].innerHTML = html;
                            if(html !== ''){
                                var locationDetails;
                                var buttons = block[0].getElementsByTagName("button");
                                for (var i = 0; i < buttons.length; i++) {
                                    buttons[i].addEventListener('click', function (event) {
                                        event.stopPropagation();
                                        if (this.dataset.action === "edit") {
                                            if (block[0].getElementsByClassName("location-details").length > 0) {
                                                locationDetails = block[0].getElementsByClassName("location-details")[0];
                                                locationDetails.classList.add("edit-mode");
                                                var msgSubmit = block[0].getElementsByClassName('msg-submit');
                                                if(msgSubmit.length > 0) {
                                                    msgSubmit[0].style.display = "none";
                                                }
                                            }
                                        }
                                        else if (this.dataset.action === "submit") {
                                            if(submitEdit(block[0],cd)) {
                                                if (block[0].getElementsByClassName("location-details").length > 0) {
                                                    locationDetails = block[0].getElementsByClassName("location-details")[0];
                                                    locationDetails.classList.remove("edit-mode");
                                                }
                                            }
                                        }
                                        else if (this.dataset.action === "cancel") {
                                            if (block[0].getElementsByClassName("location-details").length > 0) {
                                                locationDetails = block[0].getElementsByClassName("location-details")[0];
                                                locationDetails.classList.remove("edit-mode");
                                            }
                                        }
                                    });
                                }

                                // Handle when view on map link is clicked, zoom map to location
                                var mapLinks = document.querySelectorAll('.link-view-map');
                                for (var i = 0; i < mapLinks.length; i++) {
                                    mapLinks[i].addEventListener('click', function (event) {
                                        var marker = findMarker(this.dataset.location);
                                        if (marker) {
                                            map.setCenter(marker.position);
                                            map.setZoom(16);
                                            infoWindow.setContent("<p>" + marker.organisationName + "</p>");
                                            infoWindow.open(map, marker);
                                            //TODO: Optional, if you want to popup details when going to marker uncomment below line
                                            //showDetails(marker, this.dataset.location);
                                        }

                                        // scroll screen back to map
                                        event.preventDefault();
                                        var targetAnchor = event.target.getAttribute('href');
                                        var top = getCoords(document.getElementById("map")).top;
                                        var rem = parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));
                                        var headerHeight = document.querySelector('header').offsetHeight;
                                        window.scroll(0,(top-headerHeight-1*rem));
                                    });
                                }
                            }
                        });
                    }
                )
                .catch(function(err) {
                    clog(err);
                    return false;
                });
        }
    }

    /*
    * Search markerCluster for location and return its marker
    */
    function findMarker(locationID) {
        for (var i=0; i < markerCluster.markers_.length; i++) {
            if (markerCluster.markers_[i].myID.toString() === locationID.toString()) {
                return markerCluster.markers_[i];
            }
        }
        return false
    }

    // Counsellor details to go in either infoWindow or accordion
    function createDetailsHTML(cd, placeOnMap) {
        var html = '';

        if (placeOnMap) {
            html += '<button id="btnCloseInfowindow" title="Close form">Close</button>';
            html += '<div id="infoWindow-page1">';
            html += '<p class="msg-submit">Thank you, your suggestion has been submitted.</p>';
        }
        if(cd.ID === '' && placeOnMap) {
            html += '<h3 id="headingNewCounsellor">Suggest a new counsellor</h3>';
        }
        html += '<h3><span>' + cd.organisationName + '</span><input autocomplete="nofill" data-alias="title" class="edit-organisationName requiredField' + (cd.organisationName.length ? '' : ' emptyField') + '" placeholder="Enter title" type="text" value="'+ cd.organisationName + '" /></h3>';
        html += '<p class="outlet" ' + (cd.outletName.length ? '' : ' class="empty"') + '><span>' + cd.outletName + '</span><input data-alias="outlet name" autocomplete="nofill" class="edit-outletName" placeholder="Enter outlet name" type="text" value="'+ cd.outletName + '" /></p>' ;
        html += '<div class="hr-and-print">';
        //TODO: Enable printing on text version
        if(MapSettings.PRINT && cd.ID !== '' && placeOnMap === true) {
            html += '<button class="btnPrint" id="infoWindow-print'+ cd.ID + '" title="Print details">Print</button>';
        }
        if(cd.ID !== '') {
            html += '<hr>';
        }
        html += '</div>';
        html += '<p class="icon-block address' + (cd.ID !== '' ? '' : ' empty') + '"><span>' + (cd.address.length ? cd.address + ', ' : '') + cd.city + ', ' + cd.postcode + ', ' + cd.state + '</span>' + (placeOnMap ? '' : '<br><span><a class="link-view-map" href="#pac-input" data-location="' + cd.ID + '">View on map</a></span>') + ' <label for="edit-address-a'+ cd.ID + '">Address</label><input autocomplete="nofill" id="edit-address-a' + cd.ID + '" class="edit-address" placeholder="Enter address" type="text" value="'+ cd.address + '" /> <label for="edit-city-a'+ cd.ID + '">City</label><input autocomplete="nofill" id="edit-city-a' + cd.ID + '" class="edit-city requiredField' + (cd.city.length ? '' : ' emptyField') + '" placeholder="Enter city" type="text" value="'+ cd.city + '" /> <label for="edit-postcode-a'+ cd.ID + '">Postcode</label><input autocomplete="nofill" id="edit-postcode-a' + cd.ID + '" class="edit-postcode" placeholder="Enter postcode" type="text" value="'+ cd.postcode + '" />  <label for="edit-state-a'+ cd.ID + '">State</label><select autocomplete="nofill" id="edit-state-a' + cd.ID + '" class="edit-state"><option value=""></option><option value="ACT" '+(cd.state === "ACT" ? 'selected="selected"' : '')+'>ACT</option><option value="NSW" '+(cd.state === "NSW" ? 'selected="selected"' : '')+'>NSW</option><option value="NT" '+(cd.state === "NT" ? 'selected="selected"' : '')+'>NT</option><option value="QLD" '+(cd.state === "QLD" ? 'selected="selected"' : '')+'>QLD</option><option value="SA" '+(cd.state === "SA" ? 'selected="selected"' : '')+'>SA</option><option value="TAS" '+(cd.state === "TAS" ? 'selected="selected"' : '')+'>TAS</option><option value="VIC" '+(cd.state === "VIC" ? 'selected="selected"' : '')+'>VIC</option><option value="WA" '+(cd.state === "WA" ? 'selected="selected"' : '')+'>WA</option></select></p>';
        html += '<p class="icon-block phone' + (cd.phone.length ? '' : ' empty') + '"><span><a href="tel:' + cd.phone + '">' + cd.phone + '</a></span> <input autocomplete="nofill" class="edit-phone" placeholder="Enter phone" type="text" value="'+ cd.phone + '" /></p>';
        html += '<p class="icon-block email' + (cd.email.length ? '' : ' empty') + '"><span><a href="mailto:' + cd.email + '">' + cd.email + '</a></span><input autocomplete="nofill" class="edit-email" placeholder="Enter email" type="text" value="'+ cd.email + '" /></p>';
        html += '<p class="icon-block website' + (cd.website.length ? '' : ' empty') + '"><span><a target="_blank" href="' + convertWebsite(cd.website) + '">' + cd.website + '</a></span><input autocomplete="nofill" class="edit-website" placeholder="Enter website" type="text" value="'+ cd.website + '" /></p>';
        html += '<ul class="icon-block hours' + (cd.monday.length|cd.tuesday.length|cd.wednesday.length|cd.thursday.length|cd.friday.length ? '' : ' empty') + '">\t\t<li><span class="weekday">Monday</span> <span>'+ (cd.monday.length ? cd.monday : 'closed') +'</span> <input autocomplete="nofill" class="edit-monday" placeholder="Enter Monday hours" type="text" value="'+ cd.monday + '" /></li> <li><span class="weekday">Tuesday</span> <span>'+(cd.tuesday.length ? cd.tuesday : 'closed')+'</span> <input autocomplete="nofill" class="edit-tuesday" placeholder="Enter Tuesday hours" type="text" value="'+ cd.tuesday + '" /></li> <li><span class="weekday">Wednesday</span> <span>'+(cd.wednesday.length ? cd.wednesday : 'closed')+'</span> <input autocomplete="nofill" class="edit-wednesday" placeholder="Enter Wednesday hours" type="text" value="'+ cd.wednesday + '" /></li> <li><span class="weekday">Thursday</span> <span>'+(cd.thursday.length ? cd.thursday : 'closed')+'</span> <input autocomplete="nofill" class="edit-thursday" placeholder="Enter Thursday hours" type="text" value="'+ cd.thursday + '" /></li> <li><span class="weekday">Friday</span> <span>'+(cd.friday.length ? cd.friday : 'closed')+'</span> <input autocomplete="nofill" class="edit-friday" placeholder="Enter Friday hours" type="text" value="'+ cd.friday + '" /></li></ul>';
        if(cd.ID !== '') {
            html += '<hr>';
        }
        html += '<p' + (cd.additionalDetails.length ? '' : ' class="empty"') + '><strong>Additional details: </strong><span>' + cd.additionalDetails + '</span><textarea data-alias="additional details" class="edit-additionalDetails" placeholder="Enter additional details">'+ cd.additionalDetails + '</textarea></p>';
        html += '<p' + (cd.relatedServicesOffered.length ? '' : ' class="empty"') + '><strong>Related Services Offered: </strong><span>' + cd.relatedServicesOffered + '</span><textarea data-alias="related services offered" class="edit-relatedServicesOffered" placeholder="Enter related services offered">'+ cd.relatedServicesOffered + '</textarea></p>';
        html += '<p' + (cd.catchmentArea.length ? '' : ' class="empty"') + '><strong>Catchment area: </strong><span>' + cd.catchmentArea + '</span><textarea data-alias="catchment area" class="edit-catchmentArea" placeholder="Enter catchment area">'+ cd.catchmentArea + '</textarea></p>';
        html += '<p class="container-btnEdit">';
        if (placeOnMap) {
            html += '<button data-action="close">Close</button>';
        }

        //TODO: Enable editing on text version
        if(cd.ID !== '' && placeOnMap === true) {
            html += '<button data-action="edit" class="btnLink">Suggest an edit</button>';
        }
        html += '<button data-action="review" class="hide">Review your changes</button><button data-action="cancel" class="hide">Cancel</button></p>';
        if (placeOnMap) {
            html += '</div>';
        }

        if (placeOnMap) {
            html += '<div class="hidden" id="infoWindow-page2">';
            html += '<p>The following changes have been requested:</p>';
            html += '<p id="infoWindow-page2-changes">No new changes found</p>';
            html += '<p class="empty"><strong>Enter your email (Required: in case we need to confirm changes)</strong><input class="edit-contactEmail requiredField emptyField" placeholder="Enter your email" type="text" value="" /></p>';
            html += '<p class="empty"><strong>Any other comments?</strong><textarea class="edit-contactComments" placeholder="Enter other comments"></textarea></p>';
            html += '<p class="container-btnEdit">';
            html += '<button data-action="submit">Submit</button><button data-action="keep">Make more changes</button><button data-action="cancelSubmit">Discard changes</button></p>';
            html += '</div>';
        }

        return html;
    }

    function getEditChanges(container,existingData,markdownFormat) {
        var changeText = '';
        // check input values with current values
        Object.keys(existingData).forEach(function (k) {
            if(container.getElementsByClassName("edit-" + k).length > 0){
                if(container.getElementsByClassName("edit-" + k)[0].value !== existingData[k]){
                    // store changed value in markdown format
                    if(markdownFormat) {
                        if(existingData.ID === ""){
                            changeText += "*Field:* " + k + "\n" + (container.getElementsByClassName("edit-" + k)[0].value.length ? container.getElementsByClassName("edit-" + k)[0].value : '(blank)') + "\n---\n";
                        } else {
                            changeText += "*Field:* " + k + "\n*Existing:*\n" + (existingData[k].length ? existingData[k] : '(blank)') + "\n*New:*\n" + (container.getElementsByClassName("edit-" + k)[0].value.length ? container.getElementsByClassName("edit-" + k)[0].value : '(blank)') + "\n---\n";
                        }

                    } else {
                        var alias = k;
                        if(container.getElementsByClassName("edit-" + k)[0].dataset.alias) {
                            alias = container.getElementsByClassName("edit-" + k)[0].dataset.alias;
                        }
                        if(existingData.ID === ""){
                            changeText += "<strong>Field:</strong> " + alias + "<br>" + (container.getElementsByClassName("edit-" + k)[0].value.length ? container.getElementsByClassName("edit-" + k)[0].value : '(blank)') + "<br>---<br>";
                        } else {
                            changeText += "<strong>Field:</strong> " + alias + "<br><strong>Existing:</strong><br>" + (existingData[k].length ? existingData[k] : '(blank)') + "<br><strong>New:</strong><br>" + (container.getElementsByClassName("edit-" + k)[0].value.length ? container.getElementsByClassName("edit-" + k)[0].value : '(blank)') + "<br>---<br>";
                        }

                    }
                    clog(k + ": " + container.getElementsByClassName("edit-" + k)[0].value + " | " + existingData[k]);
                }
            }
        });

        if(changeText === ""){
            return "No new changes found";
        }   else {
            return changeText;
        }

    }


    // submit changes to JIRA
    function submitEdit(container,existingData) {
        var changeText = getEditChanges(container, existingData, true);

        //get valid email address (required)
        if(document.getElementById("edit-contactEmailMsg") !== null) {
            document.getElementById("edit-contactEmailMsg").remove();
        }
        if(document.getElementById("edit-contactCommentsMsg") !== null) {
            document.getElementById("edit-contactCommentsMsg").remove();
        }
        var email = '';
        var emailControl = container.getElementsByClassName('edit-contactEmail');

        if (emailControl.length > 0) {
            email = emailControl[0].value;
            if(validEmail(email) === false) {
                emailControl[0].focus();

                // display error message
                var newNode = document.createElement("strong");
                newNode.innerText = "Invalid email";
                newNode.id = "edit-contactEmailMsg";
                emailControl[0].parentNode.appendChild(newNode);

                return false;
            }
            else if(email.length === 0) {
                emailControl[0].focus();
                return false;
            }
            else if( changeText === "No new changes found") {
                var commentsControl = container.getElementsByClassName('edit-contactComments');
                if (commentsControl.length > 0) {
                    if(commentsControl[0].value === "") {
                        // display error message
                        var newNode = document.createElement("strong");
                        newNode.innerText = "Comments required if submitting with no new changes";
                        newNode.id = "edit-contactCommentsMsg";
                        commentsControl[0].parentNode.appendChild(newNode);
                        return false;
                    }
                }
            }
        }

        //generate umbraco name if new counsellor
        var umbracoName = '';
        var orgName = container.getElementsByClassName('edit-organisationName');
        if (orgName.length > 0) {
            umbracoName = orgName[0].value;
        }
        var city = container.getElementsByClassName('edit-city');
        if (city.length > 0) {
            umbracoName += " - " + city[0].value;
        }

        //get other comments
        var otherComments = '';
        var otherCommentsControl = container.getElementsByClassName('edit-contactComments');
        if (otherCommentsControl.length > 0) {
            otherComments = otherCommentsControl[0].value;
        }

        var msgSubmit = container.getElementsByClassName('msg-submit');

        if(MapSettings.JIRA === false) {
            //Dummy send which mimics JIRA sending
            if (msgSubmit.length > 0) {
                msgSubmit[0].classList.add("loading-dots");
                msgSubmit[0].innerHTML = 'Submitting changes<span>.</span><span>.</span><span>.</span>';
                msgSubmit[0].style.display = "block";
                if(document.getElementById("headingNewCounsellor") !== null) {
                    document.getElementById("headingNewCounsellor").textContent = "";
                }
                setTimeout(function () {
                    msgSubmit[0].classList.add('success');
                    msgSubmit[0].innerHTML = 'Thank you, your suggestion has been submitted.<br>Updates will be done within 3 business days.';
                }, 2000);
            }
        }

        // note: removed changeText check as they may submit just other comments and not change anything
        //if(changeText !== ''){
            // generate JIRA ticket and include the changed fields
            if(MapSettings.JIRA) {
                createJIRA(existingData.ID, existingData.organisationName, changeText, email, otherComments, msgSubmit[0], umbracoName);
            }
        //}
        return true;
    }


    // if url doesn't contain protocol then add relative protocol to start of url
    function convertWebsite(url) {
        if(url.substr(0,4).toLowerCase() === "http") {
            return url;
        } else {
            return "//" + url;
        }
    }


    function validEmail(email) {
        // simple email validation that checks for @ and .
        var regex = /\S+@\S+\.\S+/;
        return regex.test(email);
    }


    // submit details to JIRA
    function createJIRA(id, title, fcomments, email, otherComments, statusControl, umbracoName) {
        var fsummary = "Change of details (" + title + ")";
        var parentKey = "NBR-457";
        var url = "https://moneysmart.gov.au/managing-debt/financial-counselling";
        // break up URL to stop Google indexing
        var editURL = "ht" + "tps://cm" + "s.moneysmart.gov.au/umbraco#/content/content/edit/XXXX?list=4996";
        if(id === ''){
            fsummary = "New counsellor request (" + umbracoName + ")";
            editURL = "ht" + "tps://cm" + "s.moneysmart.gov.au/umbraco#/content/content/edit/4996?doctype=counsellor&create=true";
        }else {
            editURL = editURL.replace("XXXX", id);
        }
        var bodyText = "The following changes have been requested:\n\n";
        bodyText += fcomments;
        if(id === ''){
            bodyText += "This is a new request. Add a new counsellor at " + editURL;
        } else {
            bodyText += "Make the changes at " + editURL;
        }
        if(otherComments.length > 0){
            bodyText += "\n\nThe requestor has submitted the following comments:\n\n";
            bodyText += otherComments;
        }

        var feedbackdata = {
            "fields": {
                "summary": fsummary,
                "issuetype": {
                    "id": "10220"
                },
                "project": {
                    "key": "NBR"
                },
                "parent": {
                    "key": parentKey
                },
                "description": bodyText,
                "customfield_10609": email,
                "customfield_10610": url,
                "customfield_10611": 'Financial counsellor map',
                "customfield_10612": ''
            }
        };

        clog(feedbackdata);
        // start progress animation
        statusControl.classList.add("loading-dots");
        statusControl.innerHTML = 'Submitting changes<span>.</span><span>.</span><span>.</span>';
        statusControl.style.display = "block";

        fetch(MapSettings.JIRA_API, {
            method: 'post',
            body: JSON.stringify(feedbackdata)
        }).then(function(response) {
            // stop progress animation
            statusControl.className = "msg-submit";
            if (response.status !== 200) {
                statusControl.classList.add('error');
                statusControl.innerHTML = 'There was an error submitting the suggestion.';
                clog('There was an error ' + response.status);
                if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Submit error', 'JIRA location: ' + id + ' (' + response.status + ')'); }
                return false;
            }
            statusControl.classList.add('success');
            statusControl.innerHTML = 'Thank you, your suggestion has been submitted.<br>Updates will be done within 3 business days.';
            if(document.getElementById("headingNewCounsellor") !== null) {
                // hide New Counsellor heading after submitting
                document.getElementById("headingNewCounsellor").textContent = "";
            }
            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Submit success', 'JIRA location: ' + id); }
        }).catch(function(err) {
            statusControl.className = "msg-submit";
            statusControl.classList.add('error');
            statusControl.innerHTML = 'There was an error submitting the suggestion.';
            if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'Submit error', 'JIRA location: ' + id); }
            clog('Fetch Error :-S', err);
        });

    }

    //override moneysmart scroll to top of accordian items (text mode)
    function accordianInit_fixScroll() {
        var accordianButtons = document.querySelectorAll('.accordianRowToggle');
        if (accordianButtons.length > 0) {
            for (var i = 0; i < accordianButtons.length; i++) {
                accordianButtons[i].addEventListener('click', function (event) {
                    var container = document.getElementById("map-data").getBoundingClientRect();
                    window.scrollTo(0, container.top + document.documentElement.scrollTop - 70);
                });
            }
        }
    }

    // can be used if need to display any messages if geolocation isn't working
    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        document.getElementById("map-msg").innerHTML = "Location access denied by your current browser settings <button onclick='document.getElementById(\"map-msg\").style.display = \"none\"' id='btnDismissMapMsg' class=\"btnDismiss\" title=\"Dismiss\">Dismiss</button>";
        document.getElementById("map-msg").style.display = "block";

        if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'geolocation', 'off'); }
        /*
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
            'Error: The Geolocation service failed.' :
            'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
         */
    }

    function copyFrom(obj) {
        return JSON.parse(JSON.stringify(obj));
    }

    function requiredFieldsOK() {
        // check if required fields have been filled in
        var noEmpty = true;
        var requiredFields = document.getElementById("infoWindow-page1").querySelectorAll('.requiredField');
        if (requiredFields.length > 0) {
            for (var i = 0; i < requiredFields.length; i++) {
                // clear existing
                var nextElement = requiredFields[i].nextSibling;
                if (nextElement !== null && typeof nextElement.classList !== 'undefined' && nextElement.classList.contains("inputMsg")) {
                    nextElement.remove();
                }
                if(requiredFields[i].value.length === 0){
                    // display error message
                    var newNode = document.createElement("strong");
                    newNode.innerText = "required field";
                    newNode.classList.add("inputMsg");
                    requiredFields[i].parentNode.insertBefore(newNode, requiredFields[i].nextSibling);
                    noEmpty = false;
                    scrollToTopMap();
                }
            }
        }
        return noEmpty;
    }


    function focusMode(){
        var mapView = true;
        if(typeof document.getElementById("radTableView") !== 'undefined' && document.getElementById("radTableView").checked) {
            mapView = false;
        }
        // only do focusMode if desktop and not iFrame and user hasn't turned it off
        if(!MapSettings.FULLPAGE && MapSettings.DISPLAY_FOCUS && mapView) {
            var header = document.getElementsByTagName("header")[0];
            var headerWidth = header.offsetWidth;
            if (headerWidth >= 768 || MapSettings.DISPLAY_FOCUS_MOBILE) {
                header.classList.add("dark");
                document.body.classList.add("distractionfree");
                var closeButton = document.createElement("button");
                var closeText = document.createTextNode("close");
                closeButton.appendChild(closeText);
                closeButton.classList.add("closeButton");
                closeButton.id = "btnHeaderClose";

                var focusMsg = document.createElement("span");
                focusMsg.innerText = "Press [Esc] or Close button to exit full screen | ";
                focusMsg.classList.add("focusMsg");
                focusMsg.id = "spanFocusMsg";

                // checkbox to stop fullscreen
                var focusOptionLabel = document.createElement("label");
                focusOptionLabel.innerText = "Never open in full screen";
                focusOptionLabel.setAttribute("for", "chkFocusOption");
                var focusOption = document.createElement("input");
                focusOption.type = "checkbox";
                focusOption.id = "chkFocusOption";
                focusOption.classList.add("focusOption");
                if(!MapSettings.DISPLAY_FOCUS) {
                    focusOption.checked = true;
                }
                focusOptionLabel.appendChild(focusOption);
                focusMsg.appendChild(focusOptionLabel);

                closeButton.addEventListener("click", function () {
                    document.body.classList.remove("distractionfree");
                    header.classList.remove("dark");
                    this.parentNode.removeChild(this);
                    document.getElementById("spanFocusMsg").remove();
                    if(document.getElementById("btnCloseInfowindow")) {
                        document.getElementById("btnCloseInfowindow").click();
                    }

                    // when exiting focusMode scroll outside map to first h3
                    scrollToExternal();

                    // remove this class to resume focus mode animation
                    document.getElementById("mymap").classList.remove("load-counsellor");

                    if(MapSettings.ANALYTICS) { moneysmartjs.trackEvent('Map - Financial Counsellor Search', 'distractionfree', 'off'); }
                });


                focusOption.addEventListener('click', function (event) {
                    var calcSettingsData = {};
                    if(this.checked) {
                        calcSettingsData['displayFocus'] = 0;
                        MapSettings.DISPLAY_FOCUS = false;
                    } else {
                        calcSettingsData['displayFocus'] = 1;
                        MapSettings.DISPLAY_FOCUS = true;
                    }
                    sessionStorage.setItem( MapSettings.SETTINGS_STORAGE_NAME,JSON.stringify( calcSettingsData ) );
                });

                document.getElementById("topButtons").appendChild(closeButton);
                document.getElementById("topButtons").appendChild(focusMsg);
                updateHeight();
            }
        }

    }

    function checkSettings() {
        if (typeof (Storage) === 'undefined') {
            //no storage so default to focus mode
            MapSettings.DISPLAY_FOCUS = true;
        } else {

            var calcSettingsData = JSON.parse(sessionStorage.getItem(MapSettings.SETTINGS_STORAGE_NAME));
            if (calcSettingsData !== null) {
                if (typeof calcSettingsData['displayFocus'] !== 'undefined') {
                    if (calcSettingsData['displayFocus'] === 1) {
                        MapSettings.DISPLAY_FOCUS = true;
                    } else {
                        MapSettings.DISPLAY_FOCUS = false;
                    }
                }
            }
        }
        clog("displayFocus: " + MapSettings.DISPLAY_FOCUS);
    }


    function clog(msg) {
        if(MapSettings.DEBUG) {
            console.log(msg);
        }
    }


</script>
<script src="https://unpkg.com/@google/markerclustererplus@4.0.1/dist/markerclustererplus.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBe4AX3Q9nfJNNKIFKkS89K_yywztfhMs8&libraries=places&region=au&callback=initMap" async defer></script> 
<p> </p>
 </div>
</main>
<aside class="feedback">
<div>
<div role="group" aria-labelledby="feedback-useful" class="question">
<div id="feedback-useful">Do you find this page useful?</div>
<div>
<input type="radio" name="feedback-useful" id="feedback-yes" value="Yes">
<label for="feedback-yes">Yes</label>
</div>
<div>
<input type="radio" name="feedback-useful" id="feedback-no" value="No">
<label for="feedback-no">No</label>
</div>
</div>
<div role="group" aria-labelledby="feedback-whyyes" id="feedbackyes" class="feedbacksurvey hidden">
<div id="feedback-whyyes">Why?</div>
<div>
<input type="checkbox" name="feedback-whyyes" id="feedback-yes1" value="It had the information I was looking for">
<label for="feedback-yes1">It had the information I was looking for</label>
</div>
<div>
<input type="checkbox" name="feedback-whyyes" id="feedback-yes2" value="The page makes sense">
<label for="feedback-yes2">The page makes sense</label>
</div>
<div>
<input type="checkbox" name="feedback-whyyes" id="feedback-yes3" value="The information is balanced and unbiased">
<label for="feedback-yes3">The information is balanced and unbiased</label>
</div>
<div>
<input type="checkbox" name="feedback-whyyes" id="feedback-yes4" value="The information gave me a sense of what to do next">
<label for="feedback-yes4">The information gave me a sense of what to do next</label>
</div>
<div class="buttons">
<button type="button" class="submit">Submit</button>
<button type="button" class="other">Any other feedback</button>
</div>
</div>
<div role="group" aria-labelledby="feedback-whyno" id="feedbackno" class="feedbacksurvey hidden">
<div id="feedback-whyno">Why not?</div>
<div>
<input type="checkbox" name="feedback-whyno" id="feedback-no1" value="It didn't have the information I was looking for">
<label for="feedback-no1">It didn't have the information I was looking for</label>
</div>
<div>
<input type="checkbox" name="feedback-whyno" id="feedback-no2" value="The page was confusing">
<label for="feedback-no2">The page was confusing</label>
</div>
<div>
<input type="checkbox" name="feedback-whyno" id="feedback-no3" value="The information overwhelmed me">
<label for="feedback-no3">The information overwhelmed me</label>
</div>
<div>
<input type="checkbox" name="feedback-whyno" id="feedback-no4" value="There wasn't enough information for me to take action">
<label for="feedback-no4">There wasn't enough information for me to take action</label>
</div>
<div class="buttons">
<button type="button" class="submit">Submit</button>
<button type="button" class="other">Any other feedback</button>
</div>
</div>
<div role="group" aria-labelledby="feedback-your" id="feedbacktriage" class="hidden">
<div id="feedback-your">Your feedback</div>
<div>
<label for="feedbackrelates">Your feedback relates to:</label>
<select name="feedbackrelates" id="feedbackrelates">
<option selected>Please select...</option>
<option value="content">Webpage Content</option>
<option value="calculator">Calculator or tool</option>
<option value="complaint">Complaint or scam</option>
<option value="other">Copyright requests</option>
<option value="loans">Loans, money and personal finance advice</option>
<option value="other">Other feedback/suggestion</option>
</select>
</div>
<div class="hidden feedbackdetails" id="feedbackcontent">
<label for="feedbackaction">You would like to:</label>
<select name="feedbackaction" id="feedbackaction">
<option selected value="0">Please select...</option>
<option value="1">Report an Error</option>
<option value="1">Comment on a Webpage</option>
<option value="1">Ask a question</option>
</select>
</div>
<div class="hidden feedbackdetails" id="feedbackcalculator">
<label for="feedbackissue">Your issue is:</label>
<select name="feedbackissue" id="feedbackissue">
<option selected value="0">Please select...</option>
<option value="1">You don't understand the calculator result</option>
<option value="2">You believe the calculator is incorrect</option>
<option value="3">The calculator/tool does not work (eg technical issue)</option>
<option value="4">You want to provide general feedback/suggestions</option>
</select>
</div>
<div class="hidden feedbackdetails" id="calcdontunderstand">
<div class="standardText"><ul>
<li>
<p><strong>Calculator disclaimers and assumptions </strong>can be found under each calculator. Refer to these for more detailed information about how a specific calculator works.</p>
</li>
<li>
<p><strong>Calculator frequently asked questions</strong> can be found under most calculators. Refer to these for more information.</p>
</li>
</ul></div>
</div>
<div class="hidden feedbackdetails" id="feedbackcomplaint">
<div class="standardText"><p>The links below provide more information on complaints and reporting scams:</p>
<ul>
<li><a href="/how-to-complain" title="How to complain">Complain about a financial product or service</a></li>
<li><a href="/check-and-report-scams/what-to-do-if-you-ve-been-scammed" title="Report a scam">Report a scam</a></li>
<li><a href="https://asic.gov.au/about-asic/contact-us/how-to-complain/" title="ASIC - how to complain">Report misconduct to ASIC</a></li>
</ul></div>
</div>
<div class="hidden feedbackdetails" id="feedbackloans">
<div class="standardText"><p>We don't lend money, arrange loans or provide personal financial advice.</p>
<p>If you are experiencing difficulties with money, the following pages can help:</p>
<ul>
<li><a href="/managing-debt/urgent-help-with-money" title="Urgent help with money">Urgent help with money</a></li>
<li><a href="/loans/no-interest-loans" title="No or low interest loans">No or low interest loans</a></li>
<li><a href="/managing-debt/problems-paying-your-bills-and-fines" title="Problems paying your bills and fines">Problems paying your bills or fines</a></li>
<li><a href="/home-loans/problems-paying-your-mortgage" title="Problems paying your mortgage">Problems paying your mortgage</a></li>
<li><a href="/managing-debt/financial-counselling" title="Financial counselling">Find a financial counsellor</a></li>
</ul></div>
</div>
<div class="hidden feedbackdetails" id="comments">
<div>
<label for="feedbacksummary">Summary of your feedback (helps us respond faster):</label>
<input type="text" name="feedbacksummary" id="feedbacksummary">
</div>
<div>
<label for="feedbackcomments">Your comments:</label>
<textarea name="feedbackcomments" id="feedbackcomments"></textarea>
</div>
<div>
<label for="feedbackurl">The page/calculator/app you are referring to (eg. cut/paste URL):</label>
<input type="text" name="feedbackurl" id="feedbackurl">
</div>
<div>
<label for="feedbackemail">Your email address: (if you require a reply)</label>
<input type="email" name="feedbackemail" id="feedbackemail">
</div>
<div class="buttons">
<button type="button" class="cancel">Cancel</button>
<button type="button" class="submit sendfeedback">Send feedback</button>
</div>
</div>
</div>
</div>
</aside>
<aside class="upnext">
<div>
<h2>Up next in <span>Managing debt</span></h2>
<ul>
<li class="clickable" title="Go to Get debt under control">
<a href="/managing-debt/get-debt-under-control">
<h3>Get debt under control</h3>
<p>Simple steps to get out of debt and stay out of debt</p>
<p>2 min read</p>
</a>
</li>
<li class="clickable" title="Go to Urgent help with money">
<a href="/managing-debt/urgent-help-with-money">
<h3>Urgent help with money</h3>
<p>Where to get help if you&#39;re in crisis or struggling to make ends meet</p>
<p>2 min read</p>
</a>
</li>
<li class="clickable" title="Go to Financial hardship">
<a href="/managing-debt/financial-hardship">
<h3>Financial hardship</h3>
<p>How to manage debt and financial hardship</p>
<p>3 min read</p>
</a>
</li>
<li class="clickable" title="Go to Problems paying your bills and fines">
<a href="/managing-debt/problems-paying-your-bills-and-fines">
<h3>Problems paying your bills and fines</h3>
<p>Understand your options and how to get help</p>
<p>3 min read</p>
</a>
</li>
<li class="clickable" title="Go to Credit scores and credit reports">
<a href="/managing-debt/credit-scores-and-credit-reports">
<h3>Credit scores and credit reports</h3>
<p>Check your credit score and credit report for free</p>
<p>5 min read</p>
</a>
</li>
<li class="clickable" title="Go to Credit repair">
<a href="/managing-debt/credit-repair">
<h3>Credit repair</h3>
<p>Don&#39;t pay to fix your credit report — do it yourself for free</p>
<p>2 min read</p>
</a>
</li>
<li class="clickable" title="Go to Debt consolidation and refinancing">
<a href="/managing-debt/debt-consolidation-and-refinancing">
<h3>Debt consolidation and refinancing</h3>
<p>Know the risks and make sure you will save money</p>
<p>3 min read</p>
</a>
</li>
<li class="clickable" title="Go to Dealing with debt collectors">
<a href="/managing-debt/dealing-with-debt-collectors">
<h3>Dealing with debt collectors</h3>
<p>Know your rights, what to do and how to get help</p>
<p>4 min read</p>
</a>
</li>
<li class="clickable" title="Go to Repossessed car or goods">
<a href="/managing-debt/repossessed-car-or-goods">
<h3>Repossessed car or goods</h3>
<p>Act fast and get help to avoid repossession</p>
<p>3 min read</p>
</a>
</li>
<li class="clickable" title="Go to Bankruptcy and debt agreements">
<a href="/managing-debt/bankruptcy-and-debt-agreements">
<h3>Bankruptcy and debt agreements</h3>
<p>Get advice and understand the risks first</p>
<p>3 min read</p>
</a>
</li>
<li class="clickable" title="Go to Free legal advice">
<a href="/managing-debt/free-legal-advice">
<h3>Free legal advice</h3>
<p>If you’re facing legal action, you can get free legal advice</p>
<p>2 min read</p>
</a>
</li>
<li class="clickable" title="Go to Net worth calculator">
<a href="/managing-debt/net-worth-calculator">
<h3>Net worth calculator</h3>
<p>Work out your financial position </p>
<p>5 min read</p>
</a>
</li>
</ul>
</div>
</aside>
<footer>
<div class="brandms">
<ul>
<li><a href="/" title="Moneysmart home"><img style="width:11.28rem" class="lazy" src="https://static.moneysmart.gov.au/nextgen/img/image-placeholder.gif" data-src="https://static.moneysmart.gov.au/nextgen/img/header-logo-color.svg" alt="MoneySmart logo"></a></li>
</ul>
<ul class="links">
<li><a title="About us" href="/about-us">About us</a></li>
<li><a title="Contact us" href="/contact-us">Contact us</a></li>
<li><a title="Glossary" href="/glossary">Glossary</a></li>
<li><a title="Media centre" href="/media-centre">Media centre</a></li>
<li><a title="Subscribe" href="/subscribe-to-our-newsletter">Subscribe</a></li>
<li><a title="Indigenous resources" class="indigenous-flags" href="/indigenous">Indigenous</a></li>
</ul>
<ul class="social">
<li><a class="icon-facebook lazy" href="https://www.facebook.com/MoneySmartAu" title="Like MoneySmart on Facebook">Like MoneySmart on Facebook</a></li>
<li><a class="icon-twitter lazy" href="https://twitter.com/moneysmartteam" title="Follow MoneySmart on Twitter">Follow MoneySmart on Twitter</a></li>
<li><a class="icon-youtube lazy" href="https://www.youtube.com/user/MoneySmartAu" title="Subscribe to MoneySmart on Youtube">Subscribe to MoneySmart on Youtube</a></li>
</ul>
</div>
<div class="brandgov">
<a href="https://asic.gov.au" title="Visit ASIC">
<img class="lazy" src="https://static.moneysmart.gov.au/nextgen/img/image-placeholder.gif" data-src="https://static.moneysmart.gov.au/nextgen/img/logo_asic.svg" alt="ASIC logo">
</a>
</div>
</footer>
<aside id="searchWrapper" class="hidden" role="search">
<div id="searchInputWrapper"> 
<div id="searchIcon"><img src="https://static.moneysmart.gov.au/nextgen/img/billy-reverse.svg" style="width:77px;height:64px;" alt="MoneySmart logo"></div>
<div id="searchInput">
<input type="text" id="searchQuery" placeholder="Search Moneysmart" aria-labelledby="searchSubmit">
<button id="searchSubmit">search</button>
</div>
</div>
<div id="searchResultsWrapper">
<div id="searchResult"></div>
</div>
</aside>
<div id="mask" class="hidden"></div>
<script>
    
</script>
<script>
    // setup this page as a product
    var eecProduct = { 		
        'name': 'Financial counselling',     
        'id': '1591', 	
        'price': '1',
        'brand': 'Loans credit and debt', 	
        'category': 'Loans credit and debt' + '|' + 'Managing debt', 	
        'variant': '', 	
        'quantity': 1 
    }
    var eecPageType = 'content';
    var eecPurchaseType = 'dwell'; // default
    if (document.querySelectorAll('.youtubeEmbed').length > 0){ eecPurchaseType = 'video' } 
    if (document.querySelectorAll('.calculatorLink').length > 0){ eecPurchaseType = 'calculatorLink' }
    if (document.querySelectorAll('.cta').length > 0){ eecPurchaseType = 'cta' } 
    if (eecPageType === 'calculator'){ eecPurchaseType = 'calculator' } 
    if (eecPageType === 'starter-pack' || eecPageType === 'hub' || eecPageType === 'glossary' || eecPageType === 'company'){ /* no eec goal for these pages */ } 
    else { dataLayer.push({ event: 'eecGoal', eecPurchaseType: eecPurchaseType  }); }
    
    // add tags
    var MStags = [];
            MStags.push('urgent');
    
</script>
<script type="application/ld+json">
{  
   "@context":"http://schema.org",
   "@type":"Organization",
   "name":"Moneysmart",
   "url":"https://moneysmart.gov.au",
   "logo":"https://static.moneysmart.gov.au/nextgen/img/header-logo-color.svg",
   "sameAs":[  
      "https://twitter.com/moneysmartteam",
      "https://www.youtube.com/user/MoneySmartAu",
      "https://www.facebook.com/MoneySmartAu" 
   ]
}
</script>
</body>
</html>